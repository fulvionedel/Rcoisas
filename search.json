[{"path":"https://fulvionedel.github.io/Rcoisas/articles/Rcoisas.html","id":"descrição-univariada","dir":"Articles","previous_headings":"","what":"Descrição univariada","title":"Pacote Rcoisas","text":"Funções descreve, histobox e tabuleiro.","code":"descreve(x, by = NULL, dec = 2, na.rm = TRUE, data = NULL, histograma = TRUE, breaks = \"Sturges\", freq = TRUE, main = NULL, xlab = NULL, ylab = NULL, linhas = 2, curva = TRUE, densidade = FALSE, col.dens = 1, col = \"yellow2\", col.curva = \"DarkGreen\", col.media = 2, col.dp = col.media, col.mediana = 4, legenda = TRUE, lugar = \"topright\", lty.curva = 2, lwd.curva = 1, lty.dens = 3, lwd.dens = 2, lty = NULL, lwd = NULL, cex = NULL, print = \"output\", soma = FALSE, ...)"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/Rcoisas.html","id":"variáveis-numéricas","dir":"Articles","previous_headings":"Descrição univariada","what":"Variáveis numéricas","title":"Pacote Rcoisas","text":"função descreve realiza descrição “completa” de uma variável numérica. Por padrão apresenta uma lista com os parâmetros descritos e um histograma com marcas da distribuição da variável. O histograma pode ser suprimido e lista pode ser transformada em data.frame.  O output pode ser guardado em um objeto e depois impresso como lista ou como tabela (de classe data.frame) e usado para captar em texto cada parâmetro isoladamente. O objeto pode ser modificado para sua impressão. O exemplo seguir usa outra função pacote, formatL(), para apresentar os valores em formato latino. O formato em tabela é pensado para uma análise estratificada por categorias de um fator. Não há ainda um argumento , alternativa é juntar “manualmente” descrição de cada estrato:  função histobox desenha um histograma com um diagrama de caixas (“box-plot”) horizontal acima gráfico.","code":"set.seed(1) descreve(varnum <- rnorm(1000)) varnum <- rnorm(1000) :  1000  observações   Válidos: 1000    Missings: 0  Menor: -3.01     Maior: 3.81     Amplitude: 6.82 Média: -0.01     DP: 1.03    CV(%): 8884.81 Assimetria: -0.02    Curtose(real): 2.99 Quantis:  2.5%    5%   25%   50%   75%   95% 97.5%  -2.13 -1.73 -0.70 -0.04  0.69  1.74  2.01            IIQ: 1.39   descreve(varnum, histograma = FALSE, print = \"tabela\")             varnum n          1000.00 Válidos    1000.00 Missings      0.00 Menor        -3.01 Maior         3.81 Amplitude     6.82 Média        -0.01 Variância     1.07 DP            1.03 CV(%)      8884.81 Assimetria   -0.02 Curtose       2.99 P2.5         -2.13 P5           -1.73 P25          -0.70 P50          -0.04 P75           0.69 P95           1.74 P97.5         2.01 IIQ           1.39 x <- descreve(varnum, histograma = FALSE, print = FALSE) Rcoisas:::print.descreve(x)   varnum :  1000  observações   Válidos: 1000    Missings: 0  Menor: -3.01     Maior: 3.81     Amplitude: 6.82 Média: -0.01     DP: 1.03    CV(%): 8884.81 Assimetria: -0.02    Curtose(real): 2.99 Quantis:  2.5%    5%   25%   50%   75%   95% 97.5%  -2.13 -1.73 -0.70 -0.04  0.69  1.74  2.01            IIQ: 1.39   Rcoisas:::print.descreve(x, print = \"tabela\")             varnum n          1000.00 Válidos    1000.00 Missings      0.00 Menor        -3.01 Maior         3.81 Amplitude     6.82 Média        -0.01 Variância     1.07 DP            1.03 CV(%)      8884.81 Assimetria   -0.02 Curtose       2.99 P2.5         -2.13 P5           -1.73 P25          -0.70 P50          -0.04 P75           0.69 P95           1.74 P97.5         2.01 IIQ           1.39  paste(\"Média de\", x$media, \"e desvio-padrão de\", x$dp, \"unidades, configurando um coeficiente de variação de\", x$cv, \"%.\") [1] \"Média de -0.01 e desvio-padrão de 1.03 unidades, configurando um coeficiente de variação de 8884.81 %.\" Rcoisas:::print.descreve(x, print = \"tabela\") |>    tibble::as_tibble(rownames = \"parametro\") |>   dplyr::mutate(varnum = formatL(varnum, format = \"fg\", digits = 3)) |>   knitr::kable(align = 'r') par(mfrow = c(1,3)) cbind(   descreve(idade, data = obitosRS2019[obitosRS2019$sexo == \"masc\", ], main = \"masc\", legenda = FALSE, print = 'tabela'),   descreve(idade, data = obitosRS2019[obitosRS2019$sexo == \"fem\", ], main = \"fem\", legenda = FALSE, print = 'tabela'),   descreve(idade, data = obitosRS2019, main = \"ambos sexos\", print = 'tabela', lugar = 'topleft')       ) |>   dplyr::rename(\"Masculino\" = 1, \"Feminino\" = 2, \"Ambos sexos\" = 3) |>   dplyr::mutate(Masculino = formatL(Masculino, format = \"fg\", digits = 4),                 Feminino = formatL(Feminino, format = \"fg\", digits = 4),                 \"Ambos sexos\" = formatL(`Ambos sexos`, format = \"fg\", digits = 4)) |>   knitr::kable(align = 'r') histobox(varnum, col.h = \"tomato\", col.bx = \"yellow\", xlab = \"Medida\", ylab = \"Frequência\")"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/Rcoisas.html","id":"variáveis-categóricas","dir":"Articles","previous_headings":"Descrição univariada","what":"Variáveis categóricas","title":"Pacote Rcoisas","text":"funções tabuleiro e tabuleiro2 apresentam uma tabela univariada com frequências absolutas e relativas (%) simples e acumuladas. Uma tabela para apresentação pode ser feita com função kable{knitr}. Esta função tem argumentos para apresentar resultados em formato latino, mas o trabalho pode ser abreviado com função formatL{Rcoisas} – enquanto o argumento format não é implementado. Além disso, frequência acumulada aqui não faz muito sentido. função foi criada para oferecer axs estudantes um modo fácil de criar R uma tabela com essas características e valores em formato latino. Na sua primeira versão os valores eram pré-formatados, oferecendo seguinte tabela: que facilmente pode ser formatada com kable. Mas os valores da tabela estão em formato caractere e não numérico, o que impede execução de operações matemáticas. Por isso foi rebatizada de tabuleiro2 e seu desenvolvimento descontinuado.","code":"tabuleiro(x, digits = 1, total = TRUE, cum = TRUE, data = NULL, ...)  NULL tabuleiro2(varcat, digits = 1) tabuleiro(RACACOR, data = obitosRS2019)       Freq     % Freq.acum %acum 1     8514  88.3      8514  88.3 2      567   5.9      9081  94.2 3       10   0.1      9091  94.3 4      534   5.5      9625  99.8 5       17   0.2      9642 100.0 Total 9642 100.0      9642 100.0 tab1 <- tabuleiro(RACACOR, data = obitosRS2019, cum = FALSE, digits = 3) knitr::kable(tab1 |> formatL(format = \"fg\"), align = 'r') (tab2 <- tabuleiro2(obitosRS2019$RACACOR))               Freq     %(+NA) % válido % acum 1             \" 8.514\" \"85,1\" \"88,3\"   \"88,3\" 2             \"   567\" \"5,7\"  \"5,9\"    \"94,2\" 3             \"    10\" \"0,1\"  \"0,1\"    \"94,3\" 4             \"   534\" \"5,3\"  \"5,5\"    \"99,8\" 5             \"    17\" \"0,2\"  \"0,2\"    \"100\"  Total válidos \" 9.642\" \"96,4\" \"100\"    \"˗\"    Missing       \"   358\" \"3,6\"  \"˗\"      \"˗\"    Total         \"10.000\" \"100\"  \"˗\"      \"˗\" knitr::kable(tab2, align = 'r')"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/Rcoisas.html","id":"curva-de-nelson-de-moraes","dir":"Articles","previous_headings":"","what":"Curva de Nelson de Moraes","title":"Pacote Rcoisas","text":"função fxetarNM agrega um vetor com idade ou com “faixa etária detalhada” (classificação DATASUS) segundo categorias da Curva de Nelson de Moraes (< 1, 1-4, 5-19, 20-49, 50 e +). O argumento grafico = TRUE desenha o gráfico da curva.  Neste caso interessam frequências acumuladas: Veja detalhes sobre função em https://fulvionedel.github.io/Rcoisas/articles/fxetarnm.html","code":"fxetarNM(idade = NULL, fxetardet = NULL, grafico = FALSE, ...) fxetarNM(obitosRS2019$idade, grafico = TRUE,           col.sub = 2, font.sub = 3, cex.sub = .8,           main = \"Curva de Nelson de Moraes. RS, 2019.\",           sub = \"\\nAmostra aleatória de 10.000 óbitos.\") obitosRS2019$idade |>   fxetarNM() |>   tabuleiro(total = FALSE) |>   knitr::kable(format.args = list(big.mark = \".\", decimal.mark = \",\"))"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/Rcoisas.html","id":"tabelas-2-x-2","dir":"Articles","previous_headings":"","what":"Tabelas 2 x 2","title":"Pacote Rcoisas","text":"função bolero analisa tabela de contingências de duas variáveis dicotômicas. O exemplo seguir usa um banco de dados pacote Rcoisas, com uma amostra aleatória de dez mil registros de óbitos RS para comparar probabilidade de um diagnóstico de causa cardiovascular e de causa externa segundo o sexo, entre os óbitos. causas são classificadas com função cid10cap(), pacote csapAIH. Para mudar categoria de referência mudam-se antes os níveis da variável. Os rótulos dos nomes das variáveis podem ser modificados com o argumento dnn. Vamos guardar o resultado (num objeto chamdo “tabolero”) para poder usá-lo em texto automatizado. Assim podemos dizer, por exemplo, que probabilidade de que causa básica de óbito seja cardiovascular é 14% maior sexo feminino que masculino (RP = 1,14; IC95 1,07 1,22). Veja abaixo o código utilizado:","code":"obitos <- obitosRS2019[c(\"sexo\", \"CAUSABAS\")] str(obitos) 'data.frame':   10000 obs. of  2 variables:  $ sexo    : Factor w/ 2 levels \"masc\",\"fem\": 1 1 1 2 1 2 2 1 2 1 ...  $ CAUSABAS: chr  \"C349\" \"I499\" \"X958\" \"E142\" ... cardio <- grepl(\"circulatório\", csapAIH::cid10cap(obitos$CAUSABAS)) |>   factor(levels = c(TRUE, FALSE), labels = c(\"sim\", \"não\")) bolero(obitos$sexo, cardio) ===============================================================                   Tabela 2 por 2          bolero(independente, dependente, dec=2, dnn)  ---------------------------------------------------------------  Var. dependente : cardio = sim  Var. independente: obitos.sexo = masc  Missings: 2 (0,0%)             cardio obitos$sexo  sim  não  Sum        masc 1259 3967 5226        fem  1311 3461 4772        Sum  2570 7428 9998  Proporções (%)            cardio obitos$sexo  sim  não        masc 24.1 75.9        fem  27.5 72.5  Razão de Probabilidades: 0.88 ; IC95% (assintótico): 0.82 0.94                                  IC95% (exato)      : 0.82 0.94 Razão de Odds          : 0.84 ; IC95% (exato)      : 0.77 0.92 Valor-p: Pearson, Yates: <0,001 ; Fisher: <0,001  =============================================================== tabolero <- bolero(factor(obitos$sexo, levels = c(\"fem\", \"masc\")), cardio,         dnn = c(\"sexo\", \"aparelho circulatório\")) ===============================================================                   Tabela 2 por 2          bolero(independente, dependente, dec=2, dnn)  ---------------------------------------------------------------  Var. dependente : aparelho.circulatório = sim  Var. independente: sexo = fem  Missings: 2 (0,0%)        aparelho circulatório sexo    sim  não  Sum   fem  1311 3461 4772   masc 1259 3967 5226   Sum  2570 7428 9998  Proporções (%)       aparelho circulatório sexo    sim  não   fem  27.5 72.5   masc 24.1 75.9  Razão de Probabilidades: 1.14 ; IC95% (assintótico): 1.07 1.22                                  IC95% (exato)      : 1.07 1.22 Razão de Odds          : 1.19 ; IC95% (exato)      : 1.09 1.31 Valor-p: Pearson, Yates: <0,001 ; Fisher: <0,001  =============================================================== str(tabolero) List of 14  $ tab     : 'table' int [1:2, 1:2] 1311 1259 3461 3967   ..- attr(*, \"dimnames\")=List of 2   .. ..$ sexo                 : chr [1:2] \"fem\" \"masc\"   .. ..$ aparelho circulatório: chr [1:2] \"sim\" \"não\"  $ proptab : 'table' num [1:2, 1:2] 27.5 24.1 72.5 75.9   ..- attr(*, \"dimnames\")=List of 2   .. ..$ sexo                 : chr [1:2] \"fem\" \"masc\"   .. ..$ aparelho circulatório: chr [1:2] \"sim\" \"não\"  $ RP      : num 1.14  $ lci.rp  : num 1.07  $ uci.rp  : num 1.22  $ OR      : num 1.19  $ or.ic   : num [1:2] 1.09 1.31   ..- attr(*, \"conf.level\")= num 0.95  $ lci.or  : num 1.09  $ uci.or  : num 1.31  $ ft      :List of 7   ..$ p.value    : num 0.000118   ..$ conf.int   : num [1:2] 1.09 1.31   .. ..- attr(*, \"conf.level\")= num 0.95   ..$ estimate   : Named num 1.19   .. ..- attr(*, \"names\")= chr \"odds ratio\"   ..$ null.value : Named num 1   .. ..- attr(*, \"names\")= chr \"odds ratio\"   ..$ alternative: chr \"two.sided\"   ..$ method     : chr \"Fisher's Exact Test for Count Data\"   ..$ data.name  : chr \"tab\"   ..- attr(*, \"class\")= chr \"htest\"  $ qui2    :List of 9   ..$ statistic: Named num 14.8   .. ..- attr(*, \"names\")= chr \"X-squared\"   ..$ parameter: Named int 1   .. ..- attr(*, \"names\")= chr \"df\"   ..$ p.value  : num 0.000122   ..$ method   : chr \"Pearson's Chi-squared test with Yates' continuity correction\"   ..$ data.name: chr \"tab\"   ..$ observed : 'table' int [1:2, 1:2] 1311 1259 3461 3967   .. ..- attr(*, \"dimnames\")=List of 2   .. .. ..$ sexo                 : chr [1:2] \"fem\" \"masc\"   .. .. ..$ aparelho circulatório: chr [1:2] \"sim\" \"não\"   ..$ expected : num [1:2, 1:2] 1227 1343 3545 3883   .. ..- attr(*, \"dimnames\")=List of 2   .. .. ..$ sexo                 : chr [1:2] \"fem\" \"masc\"   .. .. ..$ aparelho circulatório: chr [1:2] \"sim\" \"não\"   ..$ residuals: 'table' num [1:2, 1:2] 2.41 -2.3 -1.42 1.35   .. ..- attr(*, \"dimnames\")=List of 2   .. .. ..$ sexo                 : chr [1:2] \"fem\" \"masc\"   .. .. ..$ aparelho circulatório: chr [1:2] \"sim\" \"não\"   ..$ stdres   : 'table' num [1:2, 1:2] 3.86 -3.86 -3.86 3.86   .. ..- attr(*, \"dimnames\")=List of 2   .. .. ..$ sexo                 : chr [1:2] \"fem\" \"masc\"   .. .. ..$ aparelho circulatório: chr [1:2] \"sim\" \"não\"   ..- attr(*, \"class\")= chr \"htest\"  $ p.qui2  : num 0.000122  $ p.Fisher: num 0.000118  $ resumo  : 'table' num [1, 1:4] 1.14 1.07 1.22 0   ..- attr(*, \"dimnames\")=List of 2   .. ..$ : chr \"aparelho.circulatório\"   .. ..$ : chr [1:4] \"RP\" \"IC95inf\" \"IC95sup\" \"p\" [...] cardiovascular é `` `r formatL((tabolero$RP-1)*100, digits = 0)` ``% maior no sexo feminino que no masculino (RP = `` `r formatL(tabolero$RP, 2)` ``; IC~95~ `` `r formatL(tabolero$lci.rp, 2)` `` a `` `r formatL(tabolero$uci.rp, 2)` ``)."},{"path":"https://fulvionedel.github.io/Rcoisas/articles/fxetarnm.html","id":"a-função-fxetarnm","dir":"Articles","previous_headings":"","what":"A função fxetarNM()","title":"Curva de Nelson de Moraes","text":"fxetarNM() classifica idade segundo faixas de Nelson de Moraes e devolve um fator com cada registro classificado. Assim, esse vetor pode ser incluído como variável em um banco de dados ou manejado e apresentado em tabelas e gráficos. Além disso, em seu uso mais simples, função retorna faixas etárias consideradas: O objetivo desse comportamento é facilitar construção de material didático e relatórios de análise. Mais acima, por exemplo, para citar faixas etárias, dizendo que são “< 1, 1-4, 5-19, 20-49 e 50 e +”, foi escrito “'r fxetarNM()[1:4]' e 'r fxetarNM()[5]'” Ainda sentido de facilitar produção de material didático R, é fácil desenhar curva de acordo com níveis teóricos da distribuição. Por exemplo, Figura 1 foi construída com o código abaixo, que gera para cada um dos quatro níveis de saúde (“muito baixo” “elevado”), um vetor com 100 registros de valores fictícios de idade (0, 2, 10, 25, 55) que serão classificados nas faixas etárias. distribuição proporcional se dá pelo número de repetições solicitadas (nível “muito baixo”, 20% das mortes em < 1 ano, 10% aos 2, 5% aos 10, 35% aos 25 e 30% aos 55). Para desenhar o gráfico, usa-se o argumento grafico = TRUE.","code":"fxetarNM()    [1] \"< 1\"    \"1-4\"    \"5-19\"   \"20-49\"  \"50 e +\" muitobaixo <- c(rep(0,20), rep(2,10), rep(10, 5), rep(25, 35), rep(55, 30)) baixo <- c(rep(0,50), rep(2,15), rep(10, 7), rep(25, 10), rep(55, 18)) regular <- c(rep(0,25), rep(2,10), rep(10, 5), rep(25, 20), rep(55, 40)) elevado <- c(rep(0,7), rep(2,2), rep(10, 1), rep(25, 10), rep(55, 80))  par(mfrow = c(2,2)) fxetarNM(muitobaixo, grafico = T, main = \"Muito baixo\") fxetarNM(baixo, grafico = T, main = \"Baixo\") fxetarNM(regular, grafico = T, main = \"Regular\") fxetarNM(elevado, grafico = T, main = \"Elevado\")"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/fxetarnm.html","id":"trabalhando-com-um-banco-de-dados","dir":"Articles","previous_headings":"A função fxetarNM()","what":"Trabalhando com um banco de dados","title":"Curva de Nelson de Moraes","text":"Usaremos o banco de dados “obitosRS2019”, próprio pacote Rcoisas. Esse banco é uma amostra aleatória dos registros de mortalidade RS em 2019, com um trabalho post-hoc de decodificação e rotulagem de variáveis (v. ?obitosRS2019) . É bastante simples gerar um gráfico e tabela de frequências da curva com qualidade de publicação (Figura 2 e Tabela 1). exemplo abaixo, os resultados são salvos em um objeto (“tabela”, da classe factor) para depois serem impressos. Note que o gráfico é desenhado com funções básicas R para esse fim e, portanto, é de classe NULL e não pode ser salvo como objeto para reprodução. Figura 2: Curva de Nelson de Moraes. Desenho com o argumento ‘grafico’ da função. Tabela 1: Os resultados para apresentação. Para uma análise em mais dimensões, por exemplo curva por sexo (Figura 3 e Tabela 2), mantenha o argumento grafico = FALSE e use funções R para uma descrição condicionada por outras variáveis. Penso que o mais útil é incluir o fator resultante da função como uma variável banco de dados em análise. O código seguir faz isso através de mutate(fxetarnm = fxetarNM(idade)). Note que, uma vez que em nenhum dos dois momentos ações realizadas sobre obitosRS2019 são destinadas um objeto, essas mudanças são temporárias. Tabela 2: Uma tabela mais detalhada: distribuição por sexo. Figura 3: Para uma análise com mais dimensões, mantenha o argumento ‘grafico = FALSE’ em fxetarNM e grafique o vetor com um pacote especializado, como ‘ggplot2’.","code":"data(obitosRS2019) fxetarNM(obitosRS2019$idade, grafico = T,           main = \"Curva de Nelson de Moraes. RS, 2019.*\",          sub = paste(\"* Amostra aleatória de\",                       formatL(nrow(obitosRS2019), format = \"fg\"),                       \"casos.\"),          col.sub = \"red\", font.sub = 4,           family = \"sans\") |>   tabuleiro() |>   kableExtra::kbl(caption = \"Os resultados para apresentação.\",                    format.args = list(big.mark = \".\", decimal.mark = \",\")) %>%    kableExtra::kable_classic(full_width = F) obitosRS2019 %>%     filter(!is.na(idade), !is.na(sexo)) %>%   mutate(fxetarnm = fxetarNM(idade)) %>%    group_by(sexo, fxetarnm) %>%   count() %>%    ungroup(fxetarnm) %>%   mutate(perc = n/sum(n)*100,          perc = formatL(perc),          n = formatL(n, format = 'fg')) %>%   ungroup() %>%   tidyr::pivot_wider(names_from = sexo, values_from = c(n, perc)) %>%    relocate(n_masc, .before = n_fem) %>%    relocate(perc_masc, .after = n_masc) %>%    kableExtra::kbl(align = 'crrrr',                 caption = \"Uma tabela mais detalhada: distribuição por sexo.\",                 col.names = c(\"Faixa etária\", rep(c(\"n\", \"%\"), 2))) %>%    kableExtra::add_header_above(c(\"\", \"Masculino\" = 2, \"Feminino\" = 2)) %>%   kableExtra::add_header_above(c(\"\", \"Sexo\" = 4)) %>%    kableExtra::kable_classic(full_width = F) library(ggplot2) obitosRS2019 %>%    filter(!is.na(idade), !is.na(sexo)) %>%   mutate(fxetar = fxetarNM(idade)) %>%    ggplot(aes(fxetar, y = after_stat(prop), group = sexo, colour = sexo)) +   geom_line(stat = 'count') +   scale_y_continuous(labels=scales::percent) +   labs(title = \"Curva de Nelson de Moraes.\",        subtitle = \"RS 2019, distribuição por sexo.*\",        caption = \"*Amostra aleatória de 10.000 registros.\") +   xlab(\"Faixa etária\") +   ylab(\"Proporção de mortes\") +   ggthemes::theme_wsj(base_size = 10)"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/fxetarnm.html","id":"trabalhando-com-tabelas","dir":"Articles","previous_headings":"A função fxetarNM()","what":"Trabalhando com tabelas","title":"Curva de Nelson de Moraes","text":"Se o objeto uma tabela com faixas etárias que possam ser agrupadas segundo categorias de Nelson de Moraes, como uma tabela com “faixa etária detalhada” DATASUS, por exemplo (Figura 4), pode-se tabular com xtabs(). Figura 4: Uma tabela com ‘faixa etária detalhada’. tabela da Figura 4 poderia ser salva num arquivo csv e então lida R da seguinte maneira (entre outras): Um gráfico com Curva de Nelson de Moraes por sexo pode então ser conseguido da seguinte forma (para maior clareza das etapas, porcentagens calculadas foram previamente guardadas em vetores): Figura 5: O gráfico partir de uma tabela com ‘faixa etária detalhada’.","code":"tabela <- read.csv2(\"../../data-raw/obitosRS1996.csv\", skip = 3, nrows = 20) tabela       Faixa.Etaria.det Masc  Fem Total    1        0 a 6 dias  826  604  1430    2       7 a 27 dias  268  201   469    3     28 a 364 dias  817  614  1431    4        1 a 4 anos  320  259   579    5        5 a 9 anos  186  133   319    6      10 a 14 anos  246  151   397    7      15 a 19 anos  718  272   990    8      20 a 24 anos  952  320  1272    9      25 a 29 anos 1036  376  1412    10     30 a 34 anos 1214  498  1712    11     35 a 39 anos 1365  683  2048    12     40 a 44 anos 1742  858  2600    13     45 a 49 anos 1914 1116  3030    14     50 a 54 anos 2374 1260  3634    15     55 a 59 anos 2881 1662  4543    16     60 a 64 anos 3739 2143  5882    17     65 a 69 anos 4293 2873  7166    18     70 a 74 anos 4234 3134  7368    19     75 a 79 anos 3752 3593  7345    20   80 anos e mais 5517 8314 13831 pnmfem <- xtabs(Fem/sum(Fem)*100 ~ fxetarNM(fxetardet = tabela$Faixa.Etaria.det), data = tabela) pnmmasc <- xtabs(Masc/sum(Masc)*100 ~ fxetarNM(fxetardet = tabela$Faixa.Etaria.det), data = tabela)  limys <- c(0, 80) plot(pnmfem, type = 'l', col = 2, ylim = limys,       ylab = \"% de óbitos\", xlab = \"Faixa etária\",       main = \"Curva de Nelson de Moraes, por sexo. RS, 1996.\") par(new = TRUE) plot(pnmmasc, type = 'l', ylab = \"\", xlab = \"\", col = 4, axes = F, ylim = limys) legend(1, 80, legend = c(\"Masculino\", \"Feminino\"), col = c(4,2), lty = 1, bty = \"n\")"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"censos-estimativas-e-a-necessidade-de-cadastramento-da-população-residente","dir":"Articles","previous_headings":"","what":"Censos, estimativas e a necessidade de cadastramento da população residente","title":"Pirâmides populacionais","text":"Não é objetivo deste breve artigo focado uso pacote Rcoisas para desenhar pirâmides populacionais, discorrer sobre realização de censos e cadastramentos populacionais, menos ainda sobre o cálculo de estimativas intercensitárias. Mas, mormente quando esse uso é particularmente voltado aos arquivos de dados voltado às informações disponibilizadas pelo DATASUS, é importante lembrar algumas coisas: Desde antes Estado Moderno (e de Graunt, “pai” da demografia) sabemos da importância da contagem populacional e o conhecimento de suas características para o planejamento de ações públicas. Atualmente, espera-se que um país faça um censo cada década, com uma contagem populacional cinco anos após o censo, de modo que tenha dados empíricos e atualização de estimativas cada cinco anos. Não é fácil estimar o número de habitantes de uma população pequena ou muito dinâmica e agradecer muito ao DATASUS e sexs trabalhadorxs pela realização desses cálculos e disponibilização das estimativas por sexo e faixa etária para os municípios brasileiros. Na grande maioria dos casos, estamos falando de populações muito pequenas, cuja quantidade se pretende estimar para dois sexos e 17 faixas etárias diferentes. O que, por sua vez, coloca à mesa utilidade cadastramento populacional da população, como o que se espera e pode ser feito na Estratégia Saúde da Família SUS1.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"o-tabnet-e-os-arquivos-de-população-do-datasus","dir":"Articles","previous_headings":"","what":"O TABNET e os arquivos de população do DATASUS","title":"Pirâmides populacionais","text":"O TABNET é um aplicativo de tabulação de dados de diferentes Sistemas de Informação em Saúde brasileiros e outras informações relacionadas, como contagens e projeções intercensitárias por sexo e faixa etária da população residente nos municípios. item sobre informações “Demográficas e Socioeconômicas” (Figura 2) podem-se tabular informações de censos, contagens e estimativas populacionais para os municípios desde 1980 até 2021. entanto, em função de diferenças metodológias nas estimativas, informação é disponíbilizada para dois períodos diferentes: 1980 2012 e 2000 2021 (primeira e última opções da Figura 3). Figura 2: Informações disponíveis TABNET. Mais importante neste caso em que se quer uma função que automatize construção gráfico, é forma com que se distribui informação: 1980 2012: além das tabulações possíveis TABNET (e download das tabelas resultantes), há, para cada ano, arquivos em formato .dbf e csv com população por sexo e faixa etária por município para todo o país, distribuídos pelo DATASUS em arquivos zipados; os arquivos podem ser obtidos através da página de download de arquivos DATASUS ou pelo endereço site FTP: ftp://ftp.datasus.gov.br/dissemin/publicos/IBGE/POP/ 2000 2021: só tabulação e download da tabela resultante é possível, os arquivos-fonte não estão disponíveis. Figura 3: opções de tabulação de população TABNET/DATASUS. Em sua página de transferência de arquivos, o DATASUS disponibiliza os arquivos de população (contagens e estimativas) por sexo e faixa etária para os municípios brasileiros para os anos 1980 2012. Nessa página estão disponíveis maioria dos arquivos-fonte das tabulações disponíveis TABNET e nesse sentido contagens e estimativas populacionais eram tratadas como informações de internação hospitalar ou óbito, em que os arquivos-fonte são disponbilizados para download ao estarem disponíveis TABNET opções de tabulação. Depois experimentamos um período em que já tínhamos dados dos Sistemas de Informação em Saúde mas nos faltavam estimativas populacionais adequadas para os denominadores. Uma alternativa foi usar estimativas populacionais calculadas para o Tribunal de Contas da União – que podiam então ser tabuladas TABNET por sexo e faixa etária, o que não é mais o caso –, apesar dos avisos de sua inadequação para o cálculo de indicadores de saúde. Felizmente, em seguida foi possível utilizar os dados Estudo de Estimativas Populacionais por Município, sexo e idade - 2000-2021. Atualmente, Nota Técnica da página de tabulação avisa que ao ver os dados censo de 2022, percebeu-se uma superestimação dos números absolutos nessas estimativas, mas não dá informação sobre variação relativa entre faixas etárias. De qualquer forma, momento isso é passado :D. Logo teremos os dados Censo 2022 e projeções atualizadas =^.^=","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"funções-em-rcoisas-plot_pir-e-ggplot_pir","dir":"Articles","previous_headings":"","what":"Funções em Rcoisas: plot_pir e ggplot_pir","title":"Pirâmides populacionais","text":"O desenho da pirâmide etária é útil para descrição de uma população. Se geralmente não há espaço para sua publicação nos artigos limitados em cinco elementos gráficos (tabelas e figuras), é por outro lado fácil inseri-lo em diapositivos de apresentação de trabalhos, posters, relatórios de pesquisa e documentos como os Planos Municipais de Saúde SUS. Mas construção gráfico é bastante trabalhosa, o que motivou o desenvolvimento de uma função que automatizasse leitura de dados e produção gráfico, já que então não encontrei pacotes ou funções R voltadas esse fim. Atualmente há alguns pacotes especializados que merecem ser vistos, como popPyramid, pyramid e apyramid. funções plot_pir() e ggplot_pir() de Rcoisas geram gráficos de pirâmide populacional. O pacote tem duas funções para um mesmo fim, em alguns aspectos bastante diferentes entre si, porque foram construídas de acordo com os dados disponíveis para tabulação. plot_pir() foi criada para ler os arquivos de população DATASUS e gerar um gráfico pronto para publicação, com facilidades para gerar o título e mínimas necessidades de editoração (e de possibilidades de ajuste).2 interrupção da publicação desses arquivos revelou necessidade de uma função mais flexível na entrada de dados. ggplot_pir() atende essa necessidade; além disso, é construída com ggplot2, o que permite reutilização gráfico e o uso das demais funções pacote, além de facilitar o salvamento da figura. Em compensação, exige sempre alguma editoração antes de publicar o gráfico.","code":"plot_pir(pop, tabela = FALSE, ano = NULL, local = \"população\", title = NULL,           npop = NULL, fontsize = 1.1, axes = FALSE, fonte = NULL, x.lim = NULL,           colmasc = \"mediumblue\", colfem = \"red2\", colfxetar = \"white\",           border = par(\"fg\"), inside = T, drop.unused.levels = FALSE, ...) ggplot_pir(banco, idade, sexo, populacao = NULL, catsexo = c(\"masc\", \"fem\"),            cores = c(\"steelblue\", \"hotpink\"), nsize = 3.5)"},{"path":[]},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"arquivos-de-população-do-datasus-de-1980-a-2012-","dir":"Articles","previous_headings":"Exemplos","what":"Arquivos de população do DATASUS, de 1980 a 2012.","title":"Pirâmides populacionais","text":"O pacote Rcoisas tem incorporado o banco de dados “POPBR12” (?POPBR12) com estimativas populacionais por sexo e faixa etária para os municípios brasileiros em 2012, armazenado arquivo “POPBR12.zip”, que pode ser baixado na página de “transferência de arquivos” DATASUS. Vamos usá-lo, sua estrutura é seguinte: Note que todas variáveis estão em formato numérico, e faixa etária está categorizada segundo “faixa etária detalhada” DATASUS, isto, é, faixas anuais até os 19 anos, quinquenais dos 20 79 anos e aberta partir de então (80 e mais anos de idade). Essa estrutura é esperada por plot_pir():  Mas não por ggplot_pir(), que espera faixa etária em 17 categorias (quinquenais até 79 anos, 80 e mais) e o sexo como um fator, exigindo portanto modificação prévia banco de dados. Além disso os títulos e rótulos devem ser criados ou formatados em comandos adicionais:  Note ainda que direcionamos o resultado de plot_pir um objeto (de nome graf_base), mas mesmo assim o output foi apresentado em tela, sem comando adicional, diferente de ggplot_pir, cujo output só é apresentado depois de chamarmos graf_gg. Por outro lado, ao chamarmos graf_base, vemos que ele contém apenas tabela com os dados (um data frame com variáveis “masculino” e “feminino” e 17 registros em linhas com os nomes das faixas etárias, sem o gráfico). Logicamente, tabela pode ser representada em gráfico, como vemos abaixo, mas exige algum trabalho. Utilizando ggplot2 os gráficos podem ser criados como objetos, podendo ser reaproveitados, além de uma grande capacidade de editoração da figura. Essa é uma vantagem de ggplot_pir(). O objeto resultante de plot_pir(): porcentagens podem ser facilmente calculadas, enquanto o gráfico exige algum trabalho. O que plot_pir() faz é basicamente o seguinte:  Claro que o banco pode ser trabalhado com dplyr e o gráfico pode ser desenhado com ggplot2, como os de ggplot_pir():","code":"data(\"POPBR12\") str(POPBR12)   'data.frame': 367290 obs. of  6 variables:    $ MUNIC_RES: int  110001 110001 110001 110001 110001 110001 110001 110001 110001 110001 ...    $ ANO      : int  2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 ...    $ SEXO     : int  1 1 1 1 1 1 1 1 1 1 ...    $ SITUACAO : int  3 3 3 3 3 3 3 3 3 3 ...    $ FXETARIA : int  0 101 202 303 404 505 606 707 808 909 ...    $ POPULACAO: int  187 186 187 190 193 198 204 211 219 226 ... graf_base <- plot_pir(POPBR12, local = \"Brasil\")    Input object size:     8816320 bytes;  6 variables     367290 observations   New object size:  8816320 bytes;  6 variables 367290 observations graf_gg <- POPBR12 %>%    mutate(SEXO = factor(SEXO, labels = c(\"masc\", \"fem\")),          FXETAR5 = fxetar.det_pra_fxetar5(FXETARIA)) %>%    ggplot_pir(idade = \"FXETAR5\", sexo = \"SEXO\", populacao = \"POPULACAO\") +   labs(title = \"Pirâmide populacional.\",        subtitle = \"Brasil, 2012\",        caption = \"Fonte: DATASUS (www.datasus.gov.br)\") +   xlab(\"Faixa etária\") graf_gg str(graf_base)   'data.frame': 17 obs. of  2 variables:    $ masculino: int  7143389 7758474 8875967 8704999 8782606 8610952 7853458 6883541 6427350 5785459 ...    $ feminino : int  6901204 7474673 8587202 8577046 8766636 8795610 8166586 7243527 6800153 6240934 ... rownames(graf_base)    [1] \"0-4\"   \"5-9\"   \"10-14\" \"15-19\" \"20-24\" \"25-29\" \"30-34\" \"35-39\" \"40-44\"   [10] \"45-49\" \"50-54\" \"55-59\" \"60-64\" \"65-69\" \"70-74\" \"75-79\" \"80 +\" graf_base         masculino feminino   0-4     7143389  6901204   5-9     7758474  7474673   10-14   8875967  8587202   15-19   8704999  8577046   20-24   8782606  8766636   25-29   8610952  8795610   30-34   7853458  8166586   35-39   6883541  7243527   40-44   6427350  6800153   45-49   5785459  6240934   50-54   4912910  5389329   55-59   3963556  4441120   60-64   3087312  3520063   65-69   2256975  2654866   70-74   1691406  2103802   75-79   1105881  1493580   80 +    1148647  1827317 # porcentagens no sexo masculino pm <- graf_base$masculino/sum(graf_base$masculino + graf_base$feminino)*100 # porcentagens no sexo feminino pf <- graf_base$feminino/sum(graf_base$masculino + graf_base$feminino)*100  par(xpd=NA) barplot(-pm, horiz = T, col = \"blue\", xlim = c(-6,6), space = 0, axes = F) barplot(pf, horiz = T, add = T, col = \"red2\", xlim = c(-6,6), space = 0, axes = F) axis(side = 1, at = seq(-6, 6, by=3), labels = paste(c(6, 3, 0, 3, 6), \"%\", sep=\"\")) text(x = 0, y = seq(1:17), labels=row.names(graf_base), adj=c(0.5,1), cex =.7, col = \"white\") graf_ggbase <- graf_base %>%    mutate(fxetar = rownames(.) |> factor(levels = rownames(.))) %>%    tidyr::pivot_longer(1:2, names_to = 'sexo', values_to = 'n') %>%    mutate(sexo = factor(sexo, levels = c('masculino', 'feminino'))) %>%    mutate(perc = n/sum(n)*100) %>%    mutate(perc = if_else(sexo == 'masculino', perc*-1, perc)) %>%    ggplot(aes(fxetar, perc, group = sexo, fill = sexo)) +   geom_col() +   xlab(\"Faixa etária\") +   ylab(NULL) +   lemon::scale_y_symmetric(labels = function(x) paste0(formatL(abs(x), 2, format = \"fg\"), \"%\")) +   coord_flip() +   labs(title = \"Pirâmide populacional.\",        subtitle = \"Brasil, 2012\",        caption = \"Fonte: DATASUS (www.datasus.gov.br)\")   gridExtra::grid.arrange(graf_ggbase +                           ggthemes::theme_tufte() +                           theme(legend.position = 'bottom'),                         graf_gg +                           ggthemes::theme_tufte() +                           theme(legend.position = 'bottom'),                         nrow = 1)"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"outros-dados-de-população","dir":"Articles","previous_headings":"Exemplos","what":"Outros dados de população","title":"Pirâmides populacionais","text":"O pacote Rcoisas tem também um banco de dados com estimativas populacionais dos municípios gaúchos para 2019. Vemos abaixo sua estrutura, população aparece como uma variável de contagem. Como variável indicadora sexo é um fator com categorias masc e fem, é muito fácil desenhar pirâmide com ggplot_pir(), devemos apenas indicar os nomes das variáveis com faixa etária, o sexo e população. Se categorias forem outras, como “masculino” e “feminino”, basta usar o argumento catsexo = c(\"masculino\", \"feminino\").  Já plot_pir() agora exige manejo prévio dos dados, pois não consegue ler o “data frame” em outro formato que o trabalhado anteriormente. Nesse caso pode-se criar uma tabela com faixa etária nas linhas e o sexo em duas colunas e usar o argumento tabela = TRUE:  Para o (eventual) caso de se tabular uma tabela com proporções ou porcentagens, deve-se modificar o argumento npop (que imprime um subtítulo com soma da população), pois automaticamente somará 1 ou 100, respectivamente. Se o número total da população é conhecido, pode-se colocar ali informação, através de texto ou uma função. Se informação é desconhecida, pode-se definir npop = FALSE para suprimir o texto. O mesmo pode ser feito com nota ao pé gráfico, que responde ao argumento fonte. Vemos aqui um exemplo:","code":"data(\"POPRS2019\") str(POPRS2019)   'data.frame': 16898 obs. of  8 variables:    $ CO_UF   : chr  \"43\" \"43\" \"43\" \"43\" ...    $ UF_SIGLA: Factor w/ 1 level \"RS\": 1 1 1 1 1 1 1 1 1 1 ...    $ REGIAO  : Factor w/ 1 level \"S\": 1 1 1 1 1 1 1 1 1 1 ...    $ ano     : num  2019 2019 2019 2019 2019 ...    $ mun     : chr  \"430003\" \"430003\" \"430003\" \"430003\" ...    $ sexo    : Factor w/ 2 levels \"masc\",\"fem\": 1 1 1 1 1 1 1 1 1 1 ...    $ fxetar5 : Factor w/ 17 levels \"0-4\",\"5-9\",\"10-14\",..: 1 2 3 4 5 6 7 8 9 10 ...    $ pop     : int  174 160 138 169 206 193 179 191 181 204 ... ggplot_pir(POPRS2019, idade = 'fxetar5', sexo = 'sexo', populacao = 'pop') # Cria uma tabela com o nº de habitantes por sexo e faixa etária tabpop <- POPRS2019 %>%    summarise(pop = sum(pop), .by = c(sexo, fxetar5)) %>%    tidyr::pivot_wider(id_cols = 'fxetar5', names_from = sexo, values_from = pop) %>%    data.frame(row.names = 'fxetar5') str(tabpop)   'data.frame': 17 obs. of  2 variables:    $ masc: int  365227 349212 353453 401011 439741 433799 429164 429006 379716 352646 ...    $ fem : int  348273 333116 337222 383527 427864 429768 429868 439625 397617 374416 ... plot_pir(tabpop, tabela = T, local = \"RS\", ano = 2019) # Cria uma tabela com a porcentagem de habitantes por sexo e faixa etária tabprop <- POPRS2019 %>%    summarise(pop = sum(pop), .by = c(sexo, fxetar5)) %>%    mutate(perc = pop/sum(pop)*100) %>%   tidyr::pivot_wider(id_cols = 'fxetar5', names_from = sexo, values_from = perc) %>%    data.frame(row.names = 'fxetar5') str(tabprop)   'data.frame': 17 obs. of  2 variables:    $ masc: num  3.21 3.07 3.11 3.52 3.87 ...    $ fem : num  3.06 2.93 2.96 3.37 3.76 ... par(mfrow = c(1,3)) plot_pir(tabprop, tabela = T, local = \"RS\", ano = 2019)  mtext(\"O Nº DE HABITANTES ESTÁ ERRADO\", line = .5, col = 2, font = 2, type = 4, cex = .8)   mtext(\"~~~~~~~~~~~~~~\", line = -.1, col = 2, font = 2, type = 2) plot_pir(tabprop, tabela = T, local = \"RS\", ano = 2019, npop = sum(POPRS2019$pop)) plot_pir(tabprop, tabela = T, local = \"RS\", ano = 2019, fonte = F, npop = F)"},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"enfim","dir":"Articles","previous_headings":"","what":"Enfim:","title":"Pirâmides populacionais","text":"produz um gráfico mais elaborado e pronto para impressão; está construída para os arquivos de população DATASUS período 1980-2012, mas trabalhando em estrutura de tabela funciona com qualquer ano ou local; logicamente, isso é suficiente para gerar um gráfico com qualidade de apresentação. pode assim ser usado para representação de faixas etárias por sexo em dados de mortalidade, hospitalização e outros; gera um gráfico de classe ggplot, que pode ser destinado um objeto e reutilizado; publicação exige alguma personalização prévia; é facilmente personalizável. o gráfico é de porcentagens, sem possibilidade de que apresente números absolutos; o sexo masculino vai à esquerda e o sexo feminino à direita; cores das barras são livremente configuráveis: meninas e meninos vestem-se como bem entenderem.","code":""},{"path":[]},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"um-aplicativo-shiny-com-plot_pir","dir":"Articles","previous_headings":"Addendum","what":"Um aplicativo shiny com plot_pir()","title":"Pirâmides populacionais","text":"função foi utilizada na em um aplicativo shiny para construção -line de pirâmides de municípios, unidades da federação e todo o Brasil em anos selecionados, acessível em https://fulvionedel.shinyapps.io/teste-piramide/.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"uma-função-para-a-faixa-etária-detalhada","dir":"Articles","previous_headings":"Addendum","what":"Uma função para a “faixa etária detalhada”","title":"Pirâmides populacionais","text":"fxetar.det_pra_fxetar5(x, tipo = \"POPBR\") Quem trabalha bastante com o TabWin ou TABNET seguido tem arquivos (em formato .csv, .tab ou .xls, .xlsx) com tabelas da população ou outras com os casos classificados em “faixa etária detalhada”. função fxetar.det_pra_fxetar5() reclassifica idades < 20 anos em faixas etárias quinquenais, criando uma variável com faixas etárias quinquenais (0-4, … 75-79, 80+).","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/articles/ggplot_pir.html","id":"agradecimentos","dir":"Articles","previous_headings":"","what":"Agradecimentos","title":"Pirâmides populacionais","text":"todes que publicam tutoriais, artigos e funções Rpubs e R-bloggers, que fazem e respondem perguntas stackoverflow, desenvolvedores RStudio, tidyverse, etc. Enfim, toda comunidade R.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/articles/sacamostras.html","id":"exemplo","dir":"Articles","previous_headings":"","what":"Exemplo","title":"Tomar amostras de bancos de dados","text":"O pacote Rcoisas tem um banco de dados de Autorizações de Internação Hospitalar (AIHs) SUS, com registros das internações hospitalares realizadas pelo SUS Rio Grande Sul (RS) em 2019.1 Pode ser usado para um exercício em que se pretenda saber como ocorrência de morte intrahospitalar nas internações pelo SUS RS em 2019 varia em função tempo de internação e sexo, idade e cor da pele paciente. Imaginemos que o exercício será aplicado uma turma dividida em três grupos e cada grupo trabalhará com uma amostra de 100 registros. Se o exercício focar na análise, podemos entregar o banco já trabalhado antes de tirar amostras. Assim, o script abaixo executa os seguintes passos: transforma variáveis SEXO, RACA_COR e MORTE em fator, decodificando categorias; e computa idade: neste exemplo idade é calculada como diferença entre data da internação e nascimento (variáveis DT_INTER e NASC) dividida por 365,25 (para transformar o tempo, dado originalmente em dias, em anos, considerando os anos bissextos), para usar um método clássico e reprodutível em diferentes bancos de dados, embora não seja o método preferível nos arquivos da AIH2; e seleciona apenas variáveis de interesse. estrutura banco final é mostrada abaixo. Precisamos extrair três amostras aleatórias de 100 registros desse banco de dados. amostras são criadas pela função sacamostras(), em que vale notar o uso dos argumentos prefix e suffixes: Para evitar sobreescrever algum arquivo .csv inadvertidamente, verifico antes se o diretório de trabalho contém arquivos com o nome que será usado como prefixo: suffixes pode ser usado apenas para identificação dos objetos e arquivos ccriados, se os valores de origem dos números aleatórios forem definidos argumento semente. Por padrão (nosso caso), suffixes é usado também para definir semente de números aleatórios em cada amostra, pois pode ser conveniente identificar nome objeto semente que o gerou.3 Assim, ao identificar um complemento nome da amostra (um “sufixo”), o argumento suffixes define ainda o número de amostras, pois para cada nome uma amostra. Assim, como suffixes = 1:3 gera um vetor de três elementos (1, 2 e 3), teremos três amostras. mensagem de execução da função nos informa que foram criadas três amostras como objetos espaço de trabalho (amostra_1, amostra_2 e amostra_3) e que foram salvas cada uma em um arquivo csv e todas elas em um único arquivo RData (“amostra_samples.RData”). Efetivamente, agora os podemos ver espaço de trabalho e diretório computador em que temos sessão ativa: Um resumo breve das variáveis confirma que amostras são realmente diferentes entre si: Temos assim uma amostra para cada grupo, tanto em arquivos csv – interessantes se o exercício incluir leitura de arquivos de dados – como em objetos num arquivo de dados R. O código abaixo: (1) apaga todos os objetos da sessão de trabalho e (2) carrega o recém criado arquivo “amostra_samples.RData”, com todas amostras. O processo de salvamento e leitura dos arquivos csv pode não respeitar o formato dos campos banco original. Assim, o campo “nº da AIH”, que abriga um número de registro extenso pode ser lido como numérico mesmo que esteja armazenado como charactere banco original. mesmo sentido, vemos seguir que ao ler os arquivos csv variáveis categóricas são lidas formato caractere (chr) e não fator. Há ainda uma diferença na estrutura das variáveis numéricas. Isso pode ser resolvido definindo classes das variáveis comando de leitura. Finalmente, vale lembrar que o ambiente de trabalho pode ser limpo com função rm() e os arquivos podem ser apagados com função unlink():","code":"data(\"RDRS2019\") RDRS2019 <- within(RDRS2019,  {   SEXO <- factor(SEXO, labels = c(\"Masculino\", \"Feminino\"))   RACA_COR <- factor(RACA_COR, levels = c(\"01\", \"02\", \"03\", \"04\", \"05\"),                                labels = c(\"Branca\", \"Preta\", \"Parda\", \"Amarela\", \"Indígena\"))   IDADE <- trunc(as.numeric((as.Date(DT_INTER, \"%Y%m%d\") - as.Date(NASC, \"%Y%m%d\"))/365.25))   MORTE <- factor(MORTE, levels = c(1,0), labels = c(\"Sim\", \"Não\")) }) RDRS2019 <- RDRS2019[c(11,51:53,84)] str(RDRS2019)    'data.frame':    10000 obs. of  5 variables:     $ SEXO     : Factor w/ 2 levels \"Masculino\",\"Feminino\": 1 2 2 2 1 1 2 1 1 2 ...     $ IDADE    : num  23 73 27 80 73 53 20 53 29 72 ...     $ DIAS_PERM: int  21 2 2 4 3 4 1 3 6 5 ...     $ MORTE    : Factor w/ 2 levels \"Sim\",\"Não\": 2 2 2 2 2 2 2 2 2 2 ...     $ RACA_COR : Factor w/ 5 levels \"Branca\",\"Preta\",..: 1 1 1 1 1 1 3 1 NA 1 ... dir(pattern = \"^amostra\")    character(0) sacamostras(data = RDRS2019, size = 100, prefix = \"amostra_\", suffixes = 1:3)    Sample 1 saved as amostra_1.csv     Sample 1 saved as an object: amostra_1     Sample 2 saved as amostra_2.csv     Sample 2 saved as an object: amostra_2     Sample 3 saved as amostra_3.csv     Sample 3 saved as an object: amostra_3     Samples saved as an RData file: amostra_samples.RData ls(pattern = \"^amostra\")    [1] \"amostra_1\" \"amostra_2\" \"amostra_3\" dir(pattern = \"^amostra\")    [1] \"amostra_1.csv\"         \"amostra_2.csv\"         \"amostra_3.csv\"            [4] \"amostra_samples.RData\" summary(amostra_1)            SEXO        IDADE         DIAS_PERM     MORTE        RACA_COR      Masculino:53   Min.   : 0.00   Min.   : 0.00   Sim: 5   Branca  :74       Feminino :47   1st Qu.:28.75   1st Qu.: 2.00   Não:95   Preta   : 2                      Median :49.50   Median : 3.00            Parda   : 3                      Mean   :47.07   Mean   : 6.01            Amarela : 0                      3rd Qu.:68.50   3rd Qu.: 8.00            Indígena: 0                      Max.   :91.00   Max.   :32.00            NA's    :21 summary(amostra_2)            SEXO        IDADE         DIAS_PERM     MORTE        RACA_COR      Masculino:44   Min.   : 0.00   Min.   : 0.00   Sim: 4   Branca  :77       Feminino :56   1st Qu.:26.25   1st Qu.: 2.00   Não:96   Preta   : 5                      Median :48.50   Median : 3.50            Parda   : 5                      Mean   :45.33   Mean   : 6.31            Amarela : 1                      3rd Qu.:67.00   3rd Qu.: 7.00            Indígena: 0                      Max.   :88.00   Max.   :68.00            NA's    :12 summary(amostra_3)            SEXO        IDADE         DIAS_PERM     MORTE        RACA_COR      Masculino:49   Min.   : 0.00   Min.   : 0.00   Sim: 5   Branca  :66       Feminino :51   1st Qu.:26.50   1st Qu.: 2.00   Não:95   Preta   : 6                      Median :51.00   Median : 4.00            Parda   : 8                      Mean   :46.57   Mean   : 7.33            Amarela : 0                      3rd Qu.:68.00   3rd Qu.: 7.00            Indígena: 1                      Max.   :99.00   Max.   :49.00            NA's    :19 rm(list = ls()) ; ls()    character(0) load(\"amostra_samples.RData\") ; ls()     [1] \"amostra_1\" \"amostra_2\" \"amostra_3\" \"RDRS2019\" amostra_1 |> str()    'data.frame':    100 obs. of  5 variables:     $ SEXO     : Factor w/ 2 levels \"Masculino\",\"Feminino\": 2 2 1 2 2 2 2 2 1 1 ...     $ IDADE    : num  4 49 83 84 42 19 60 46 80 50 ...     $ DIAS_PERM: int  0 3 8 21 1 1 11 1 5 10 ...     $ MORTE    : Factor w/ 2 levels \"Sim\",\"Não\": 2 2 2 1 2 2 2 2 2 2 ...     $ RACA_COR : Factor w/ 5 levels \"Branca\",\"Preta\",..: 1 1 1 3 1 NA 1 1 NA NA ... read.csv2(\"amostra_1.csv\") |> str()    'data.frame':    100 obs. of  5 variables:     $ SEXO     : chr  \"Feminino\" \"Feminino\" \"Masculino\" \"Feminino\" ...     $ IDADE    : int  4 49 83 84 42 19 60 46 80 50 ...     $ DIAS_PERM: int  0 3 8 21 1 1 11 1 5 10 ...     $ MORTE    : chr  \"Não\" \"Não\" \"Não\" \"Sim\" ...     $ RACA_COR : chr  \"Branca\" \"Branca\" \"Branca\" \"Parda\" ... read.csv2(\"amostra_1.csv\", colClasses = c(\"factor\", \"numeric\", \"integer\", \"factor\", \"factor\")) |> str()    'data.frame':    100 obs. of  5 variables:     $ SEXO     : Factor w/ 2 levels \"Feminino\",\"Masculino\": 1 1 2 1 1 1 1 1 2 2 ...     $ IDADE    : num  4 49 83 84 42 19 60 46 80 50 ...     $ DIAS_PERM: int  0 3 8 21 1 1 11 1 5 10 ...     $ MORTE    : Factor w/ 2 levels \"Não\",\"Sim\": 1 1 1 2 1 1 1 1 1 1 ...     $ RACA_COR : Factor w/ 3 levels \"Branca\",\"Parda\",..: 1 1 1 2 1 NA 1 1 NA NA ... rm(list = ls(pattern = \"amostra\")) unlink(c(\"amostra*\", \"*.html\")) # apaga os arquivos criados"},{"path":"https://fulvionedel.github.io/Rcoisas/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Fúlvio B. Nedel. Maintainer.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Nedel FB (2026). Rcoisas: Minhas Facilidades. R package version 0.0.1.0, https://fulvionedel.github.io/Rcoisas/.","code":"@Manual{,   title = {Rcoisas: Minhas Facilidades},   author = {Fúlvio Borges Nedel},   year = {2026},   note = {R package version 0.0.1.0},   url = {https://fulvionedel.github.io/Rcoisas/}, }"},{"path":"https://fulvionedel.github.io/Rcoisas/index.html","id":"rcoisas-funções-para-aulas-de-epidemiologia-e-bioestatística","dir":"","previous_headings":"","what":"Minhas Facilidades","title":"Minhas Facilidades","text":"O pacote contém funções com outputs em português e bancos de dados úteis para produção de gráficos e tabelas úteis para construção de material didático e exercícios em aula, como descrição de variáveis numéricas e tabela de frequências, análise de uma tabela 2 x 2 ou construção de indicadores de saúde, como curva de Nelson de Moraes. Esta é primeira “release” pacote, com 18 funções, listadas seguir: Exemplos de uso de algumas funções podem ser vistos em https://fulvionedel.github.io/Rcoisas/ Veja aqui o manual pacote.","code":"[1] \"adissoma\"               \"bolero\"                 \"calendas\"                [4] \"descreve\"               \"ed\"                     \"folhinha\"                [7] \"formatL\"                \"fxetar.det_pra_fxetar5\" \"fxetarNM\"               [10] \"ggplot_pir\"             \"histobox\"               \"numescrito\"             [13] \"plot_pir\"               \"plotZ\"                  \"sacamostras\"            [16] \"tabuleiro\"              \"tabuleiro2\"             \"zeroesq\""},{"path":"https://fulvionedel.github.io/Rcoisas/index.html","id":"instalação","dir":"","previous_headings":"","what":"Instalação","title":"Minhas Facilidades","text":"última versão pacote pode ser instalada R: baixando o arquivo de instalação SourceForge e depois instalando, com IDE de preferência ou com o comando install.packages(\"Rcoisas_<versão>.tar.gz\") (em Linux ou Mac) ou install.packages(\"Rcoisas_<versão>.zip\") (em Windows); ou com função install.packages() endereçada ao link da última versão SourceForge: versão de desenvolvimento pode ser instalada partir GitHub com o pacote remotes:","code":"install.packages(\"https://sourceforge.net/projects/Rcoisas/files/latest/download\",                   type = \"source\", repos = NULL) # install.packages(\"remotes\") # Se o pacote 'remotes' não estiver instalado remotes::install_github(\"fulvionedel/Rcoisas\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/POPBR12.html","id":null,"dir":"Reference","previous_headings":"","what":"População brasileira, 2012 — POPBR12","title":"População brasileira, 2012 — POPBR12","text":"População por sexo e faixa etária. Municípios brasileiros, 2012.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/POPBR12.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"População brasileira, 2012 — POPBR12","text":"","code":"POPBR12"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/POPBR12.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"População brasileira, 2012 — POPBR12","text":"Banco de dados com estimativas populacionais por sexo e faixa etária para os municípios brasileiros em 2012. É o último arquivo com estimativas populacionais esse nível de detalhamento publicado repositório FTP DATASUS. O banco é apresentado na forma em que foi baixado de ftp.datasus.gov.br/dissemin/publicos/IBGE/POP/POPBR12.zip.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/POPRS2019.html","id":null,"dir":"Reference","previous_headings":"","what":"População por sexo e faixa etária. Municípios gaúchos, 2019. — POPRS2019","title":"População por sexo e faixa etária. Municípios gaúchos, 2019. — POPRS2019","text":"População por sexo e faixa etária. Municípios gaúchos, 2019.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/POPRS2019.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"População por sexo e faixa etária. Municípios gaúchos, 2019. — POPRS2019","text":"","code":"POPRS2019"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/POPRS2019.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"População por sexo e faixa etária. Municípios gaúchos, 2019. — POPRS2019","text":"Banco de dados com estimativas populacionais por sexo e faixa etária para os municípios Rio Grande Sul em 2019. Criado com função popbr2000_2021, que por sua vez usa os dados tabulados DATASUS e importados pelo pacote brpop, de Raphael Saldanha.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/RDRS2019.html","id":null,"dir":"Reference","previous_headings":"","what":"Arquivo da AIH - RS, 2019 — RDRS2019","title":"Arquivo da AIH - RS, 2019 — RDRS2019","text":"Internações hospitalares pagas pelo SUS RS em 2019.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/RDRS2019.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Arquivo da AIH - RS, 2019 — RDRS2019","text":"","code":"RDRS2019"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/RDRS2019.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Arquivo da AIH - RS, 2019 — RDRS2019","text":"Banco de dados com amostra aleatória de 10.000 internações dos \"arquivos reduzidos\" (RD*.DBC) das Autorizações de Internação Hospitalar (AIH) pagas pelo SUS em hospitais RS em 2019 (\"ano de competência\" = 2019). O banco é formado pela junção (adição de linhas) de cada um dos arquivos RDRS1901.DBC, ..., RDRS1912.DBC.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/RDRS2019.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Arquivo da AIH - RS, 2019 — RDRS2019","text":"Bases de Dados Sistema de Informações Hospitalares SUS (BD-SIH/SUS)","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/adissoma.html","id":null,"dir":"Reference","previous_headings":"","what":"Totais de colunas em uma tabela — adissoma","title":"Totais de colunas em uma tabela — adissoma","text":"Em uma tabela, acrescenta uma linha com o total das colunas, ou soma dos valores das colunas em linhas selecionadas.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/adissoma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Totais de colunas em uma tabela — adissoma","text":"","code":"adissoma(tabela, rotulo = \"Total\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/adissoma.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Totais de colunas em uma tabela — adissoma","text":"tabela Objeto de estrutura matricial com mínimo duas linhas e duas colunas rotulo Rótulo para linha da soma, o padrão é \"Total\".","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/adissoma.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Totais de colunas em uma tabela — adissoma","text":"tabela (de classe data.frame) com linha da soma ao final.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/adissoma.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Totais de colunas em uma tabela — adissoma","text":"É análoga colSums, mas identifica colunas numéricas na tabela e trabalha apenas sobre elas, sempre com na.rm = TRUE, isto é, desconsiderando os missings na soma.","code":""},{"path":[]},{"path":"https://fulvionedel.github.io/Rcoisas/reference/adissoma.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Totais de colunas em uma tabela — adissoma","text":"","code":"# Reproduzir uma tabela da mortalidade por \"faixa etária detalhada\" do DATASUS: tabela <- \"'Faixa Etária det'  Masc  Fem  Ign Total                  '0 a 6 dias'   361   257   5   623                 '7 a 27 dias'   156   111   -   267               '28 a 364 dias'   155   148   1   304                  '1 a 4 anos'   144    88   -   232                  '5 a 9 anos'    64    46   -   110                '10 a 14 anos'    83    68   -   151                '15 a 19 anos'   462   141   -   603                '20 a 24 anos'   817   271   -  1088                '25 a 29 anos'   880   393   -  1273                '30 a 34 anos'  1155   561   -  1716                '35 a 39 anos'  1508   870   1  2379                '40 a 44 anos'  1954  1190   -  3144                '45 a 49 anos'  2514  1681   -  4195                '50 a 54 anos'  3488  2175   2  5665                '55 a 59 anos'  5170  3265   2  8437                '60 a 64 anos'  6557  4240   2 10799                '65 a 69 anos'  7566  5370   1 12937                '70 a 74 anos'  7989  6181   3 14173                '75 a 79 anos'  7438  6508   4 13950              '80 anos e mais' 14444 21159   7 35610\" tabela <- read.table(header = TRUE, na.strings = \"-\", text = tabela) adissoma(tabela) #>    Faixa.Etária.det  Masc   Fem Ign  Total #> 1        0 a 6 dias   361   257   5    623 #> 2       7 a 27 dias   156   111  NA    267 #> 3     28 a 364 dias   155   148   1    304 #> 4        1 a 4 anos   144    88  NA    232 #> 5        5 a 9 anos    64    46  NA    110 #> 6      10 a 14 anos    83    68  NA    151 #> 7      15 a 19 anos   462   141  NA    603 #> 8      20 a 24 anos   817   271  NA   1088 #> 9      25 a 29 anos   880   393  NA   1273 #> 10     30 a 34 anos  1155   561  NA   1716 #> 11     35 a 39 anos  1508   870   1   2379 #> 12     40 a 44 anos  1954  1190  NA   3144 #> 13     45 a 49 anos  2514  1681  NA   4195 #> 14     50 a 54 anos  3488  2175   2   5665 #> 15     55 a 59 anos  5170  3265   2   8437 #> 16     60 a 64 anos  6557  4240   2  10799 #> 17     65 a 69 anos  7566  5370   1  12937 #> 18     70 a 74 anos  7989  6181   3  14173 #> 19     75 a 79 anos  7438  6508   4  13950 #> 20   80 anos e mais 14444 21159   7  35610 #> 21            Total 62905 54723  28 117656 # Somar a faixa de 0-4 anos: tabela2 <- rbind(adissoma(tabela[1:4,], rotulo = \"0 a 4 anos\")[5,],                  tabela[-c(1:4),]) adissoma(tabela2)  #>    Faixa.Etária.det  Masc   Fem Ign  Total #> 1        0 a 4 anos   816   604   6   1426 #> 2        5 a 9 anos    64    46  NA    110 #> 3      10 a 14 anos    83    68  NA    151 #> 4      15 a 19 anos   462   141  NA    603 #> 5      20 a 24 anos   817   271  NA   1088 #> 6      25 a 29 anos   880   393  NA   1273 #> 7      30 a 34 anos  1155   561  NA   1716 #> 8      35 a 39 anos  1508   870   1   2379 #> 9      40 a 44 anos  1954  1190  NA   3144 #> 10     45 a 49 anos  2514  1681  NA   4195 #> 11     50 a 54 anos  3488  2175   2   5665 #> 12     55 a 59 anos  5170  3265   2   8437 #> 13     60 a 64 anos  6557  4240   2  10799 #> 14     65 a 69 anos  7566  5370   1  12937 #> 15     70 a 74 anos  7989  6181   3  14173 #> 16     75 a 79 anos  7438  6508   4  13950 #> 17   80 anos e mais 14444 21159   7  35610 #> 18            Total 62905 54723  28 117656 # Pode-se ter o mesmo resultado com 'colSums()', mas com mais trabalho:  cbind(\"Faixa etária\" = c(tabela2[[1]], \"Total\"),        rbind(tabela2[-1], colSums(tabela2[-1], na.rm = TRUE))) #>       Faixa etária  Masc   Fem Ign  Total #> 5       0 a 4 anos   816   604   6   1426 #> 51      5 a 9 anos    64    46  NA    110 #> 6     10 a 14 anos    83    68  NA    151 #> 7     15 a 19 anos   462   141  NA    603 #> 8     20 a 24 anos   817   271  NA   1088 #> 9     25 a 29 anos   880   393  NA   1273 #> 10    30 a 34 anos  1155   561  NA   1716 #> 11    35 a 39 anos  1508   870   1   2379 #> 12    40 a 44 anos  1954  1190  NA   3144 #> 13    45 a 49 anos  2514  1681  NA   4195 #> 14    50 a 54 anos  3488  2175   2   5665 #> 15    55 a 59 anos  5170  3265   2   8437 #> 16    60 a 64 anos  6557  4240   2  10799 #> 17    65 a 69 anos  7566  5370   1  12937 #> 18    70 a 74 anos  7989  6181   3  14173 #> 19    75 a 79 anos  7438  6508   4  13950 #> 20  80 anos e mais 14444 21159   7  35610 #> 181          Total 62905 54723  28 117656"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/bolero.html","id":null,"dir":"Reference","previous_headings":"","what":"Bolero: tabelas 2x2 — bolero","title":"Bolero: tabelas 2x2 — bolero","text":"Analisa uma tabela 2x2 e apresenta um output com rótulos em português","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/bolero.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bolero: tabelas 2x2 — bolero","text":"","code":"bolero(independente, dependente = NULL, dec = 2, dnn = NULL)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/bolero.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bolero: tabelas 2x2 — bolero","text":"independente Variável independente dependente Variável dependente dec . de decimais dnn Nome das variáveis ser impresso 'output'","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/bolero.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bolero: tabelas 2x2 — bolero","text":"Um objeto da classe `list` com tabelas de frequências absolutas e relativas, razão de probabilidades e de odds, com seus intervalos de confiança e valores-p.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/bolero.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bolero: tabelas 2x2 — bolero","text":"","code":"with(RDRS2019, bolero(SEXO, MORTE)) #> =============================================================== #>                   Tabela 2 por 2  #>         bolero(independente, dependente, dec=2, dnn)  #> ---------------------------------------------------------------  #> Var. dependente : MORTE = 0  #> Var. independente: SEXO = 1  #> Missings: 0 (0,0%) #>  #>      MORTE #> SEXO      0     1   Sum #>   1    4251   284  4535 #>   3    5238   227  5465 #>   Sum  9489   511 10000 #>  #> Proporções (%) #>     MORTE #> SEXO    0    1 #>    1 93.7  6.3 #>    3 95.8  4.2 #>  #> Razão de Probabilidades: 0.98 ; IC95% (assintótico): 0.97 0.99  #>                                 IC95% (exato)      : 0.97 0.99 #> Razão de Odds          : 0.65 ; IC95% (exato)      : 0.54 0.78 #> Valor-p: Pearson, Yates: <0,001 ; Fisher: <0,001  #> =============================================================== with(RDRS2019, bolero(SEXO, MORTE, dnn = c(\"Sexo\", \"Óbito\"))) #> =============================================================== #>                   Tabela 2 por 2  #>         bolero(independente, dependente, dec=2, dnn)  #> ---------------------------------------------------------------  #> Var. dependente : Óbito = 0  #> Var. independente: Sexo = 1  #> Missings: 0 (0,0%) #>  #>      Óbito #> Sexo      0     1   Sum #>   1    4251   284  4535 #>   3    5238   227  5465 #>   Sum  9489   511 10000 #>  #> Proporções (%) #>     Óbito #> Sexo    0    1 #>    1 93.7  6.3 #>    3 95.8  4.2 #>  #> Razão de Probabilidades: 0.98 ; IC95% (assintótico): 0.97 0.99  #>                                 IC95% (exato)      : 0.97 0.99 #> Razão de Odds          : 0.65 ; IC95% (exato)      : 0.54 0.78 #> Valor-p: Pearson, Yates: <0,001 ; Fisher: <0,001  #> ==============================================================="},{"path":"https://fulvionedel.github.io/Rcoisas/reference/calendas.html","id":null,"dir":"Reference","previous_headings":"","what":"Cronograma — calendas","title":"Cronograma — calendas","text":"Desenha um Diagrama de Gantt representando um cronograma de  tarefas.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/calendas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cronograma — calendas","text":"","code":"calendas(   banco,   tarefa = tarefa,   inicio = inicio,   fim = fim,   paleta = NULL,   ttexto.data = 8,   ttexto.tarefa = 10,   gradevert = TRUE,   breaks = 2,   ordenar_por = NULL,   ordem_desc = TRUE,   xlab = NULL,   ylab = NULL,   titulo = NULL )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/calendas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cronograma — calendas","text":"banco Banco de dados contendo variáveis com informação sobre tarefa, sua data de início e fim. Objeto da classe data.frame . tarefa Nome da variável com tarefa. Deve ir sem aspas. Padrão é `tarefa`. inicio Nome da variável com data de início da tarefa. Padrão é `inicio`. fim Nome da variável com data de fim da tarefa.Padrão é `fim`. paleta Paleta de cores para o gráfico. Pode ser \"Set1\", \"Set2\", \"Set3\", \"Dark2\", \"Paired\", \"Pastel1\", \"Pastel2\", \"Accent\". ttexto.data Tamanho texto para datas (eixo x). ttexto.tarefa Tamanho texto para tarefas (eixo y). gradevert O diagrama deve apresentar linhas verticais, para melhor identificação da data? O padrão é TRUE. breaks Intervalo de espaçamento para apresentação da data, em meses. O padrão é 2. ordenar_por Ordena por uma variável numérica presente banco, como data de início ou fim da tarefa. O padrão é NULL. ordem_desc Se ordenado por alguma variável em ordenar_por, ordem deve ser descendente? O padrão é TRUE. xlab Rótulo para o eixo x (datas). Padrão é \"Período de execução\". ylab Rótulo para o eixo y (tarefas). Padrão é \"Tarefa\". titulo Título para o gráfico. Padrão é NULL.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/calendas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cronograma — calendas","text":"","code":"tarefa <- c(\"Revisão bibliográfica\", \"Coleta de dados\", \"Análise de dados\", \"Elaboração do artigo\") inicio <- as.Date(c(\"2025-01-01\", \"2025-04-01\", \"2025-06-15\", \"2025-08-01\"))  fim    <- as.Date(c(\"2025-08-01\", \"2025-06-01\", \"2025-07-31\", \"2025-10-01\"))  cronograma <- data.frame(tarefa, inicio, fim) str(cronograma) # \"tarefa\" é da classe 'character', não 'factor' #> 'data.frame':\t4 obs. of  3 variables: #>  $ tarefa: chr  \"Revisão bibliográfica\" \"Coleta de dados\" \"Análise de dados\" \"Elaboração do artigo\" #>  $ inicio: Date, format: \"2025-01-01\" \"2025-04-01\" ... #>  $ fim   : Date, format: \"2025-08-01\" \"2025-06-01\" ... calendas(cronograma) # Tarefas ordenadas alfabeticamente em ordem descendente  cronograma$tarefa <- factor(cronograma$tarefa, levels = tarefa) str(cronograma)    # Categorias ordenadas, #> 'data.frame':\t4 obs. of  3 variables: #>  $ tarefa: Factor w/ 4 levels \"Revisão bibliográfica\",..: 1 2 3 4 #>  $ inicio: Date, format: \"2025-01-01\" \"2025-04-01\" ... #>  $ fim   : Date, format: \"2025-08-01\" \"2025-06-01\" ... calendas(cronograma) # mas apresentdas em ordem descendente   cronograma$tarefa.rev <- # cria outra variável com a ordem das categorias    factor(cronograma$tarefa, levels = rev(tarefa)) # invertida str(cronograma)  #> 'data.frame':\t4 obs. of  4 variables: #>  $ tarefa    : Factor w/ 4 levels \"Revisão bibliográfica\",..: 1 2 3 4 #>  $ inicio    : Date, format: \"2025-01-01\" \"2025-04-01\" ... #>  $ fim       : Date, format: \"2025-08-01\" \"2025-06-01\" ... #>  $ tarefa.rev: Factor w/ 4 levels \"Elaboração do artigo\",..: 4 3 2 1 calendas(cronograma, tarefa.rev) # Ordem ascendente  rm(tarefa, inicio, fim)  # Banco com outros nomes de variáveis cronograma$tarefa.rev <- NULL names(cronograma) <- c(\"tar\", \"tari\", \"tarf\")  calendas(cronograma, tar, tari, tarf)   # Outra paleta e sem a grade vertical: calendas(cronograma, tar, tari, tarf, gradevert = FALSE, paleta = \"Dark2\")   # Ordenar pelas datas de início ou fim da tarefa: calendas(cronograma, tar, tari, tarf, ordenar_por = \"tari\")  calendas(cronograma, tar, tari, tarf, ordenar_por = \"tarf\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/descreve.html","id":null,"dir":"Reference","previous_headings":"","what":"Descreve uma variável numérica — descreve","title":"Descreve uma variável numérica — descreve","text":"Executa descrição \"completa\" de uma variável numérica, contínua ou discreta, e desenha um histograma, possivelmente com linhas para média, mediana e distância da média até 1 ou 2 desvios-padrão, além da curva de probabilidade Normal para os parâmetros apresentados.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/descreve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Descreve uma variável numérica — descreve","text":"","code":"descreve(   x,   by = NULL,   dec = 2,   na.rm = TRUE,   data = NULL,   histograma = TRUE,   breaks = \"Sturges\",   freq = TRUE,   main = NULL,   xlab = NULL,   ylab = NULL,   linhas = 2,   curva = TRUE,   densidade = FALSE,   col.dens = 1,   col = \"yellow2\",   col.curva = \"DarkGreen\",   col.media = 2,   col.dp = col.media,   col.mediana = 4,   legenda = TRUE,   lugar = \"topright\",   lty.curva = 2,   lwd.curva = 1,   lty.dens = 3,   lwd.dens = 2,   lty = NULL,   lwd = NULL,   cex = NULL,   print = \"output\",   soma = FALSE,   ... )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/descreve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Descreve uma variável numérica — descreve","text":"x Um vetor numérico tentar incluir esse argumento dec Número de dígitos na.rm TRUE (default) remove os missings data Argumento opcional. Banco de dados contendo x. O padrão é NULL. histograma TRUE (default) desenha um histograma breaks Número de divisões, de acordo com hist; o método padrão é Sturges' freq TRUE (default) define o eixo y como frequência; FAlSE o define como densidade main Título gráfico xlab Rótulo eixo x ylab Rótulo eixo y linhas TRUE (default) desenha linhas verticais com média, mediana e média + 1 ou 2 DP curva TRUE (default) desenha curva normal esperada densidade O padrão é FALSE; passe para TRUE para desenhar curva de densidade da distribuição col.dens Cor da curva de densidade; o padrão é 'black' col Cor das barras histograma; o padrão é 'yellow2' col.curva Cor da curva normal; o padrão é 'DarkGreen' col.media Cor da linha da média; o padrão é 'red' col.dp Cor das linhas SP; por padrão é mesma que col.media ('red') col.mediana Cor da linha da mediana; o padrão é 'blue' legenda TRUE (default) desenha legenda lugar Posição da legenda; padrão é 'topright' lty.curva Tipo da linha da curva normal; padrão é 2 lwd.curva Largura da linha da curva normal; padrão é 1 lty.dens Tipo da linha da curva de densidade; padrão é 3 lwd.dens Largura da linha da curva de densidade; padrão é 2 lty Tipo da linha para o histograma; padrão é NULL lwd Largura da linha para o histograma; padrão é NULL cex Tamanho da fonte print Modo de apresentação; print = \"tabela\" retorna uma tabela com estatísticas soma TRUE apresenta soma dos valores; padrão é FALSE ... Toma parâmetros de outras funções utilizadas","code":""},{"path":[]},{"path":"https://fulvionedel.github.io/Rcoisas/reference/descreve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Descreve uma variável numérica — descreve","text":"","code":"descreve(rnorm(100))  #>  #>  rnorm(100) :  100  observações  #>  #> Válidos: 100 \t Missings: 0  #> Menor: -2.61\t Maior: 2.76\t Amplitude: 5.37 #> Média: 0.08\t DP: 1.02\t CV(%): 1340.01 #> Assimetria: -0.09\t Curtose(real): 3.22 #> Quantis: #>  2.5%    5%   25%   50%   75%   95% 97.5%  #> -1.91 -1.82 -0.38  0.06  0.62  1.68  2.00  #> \t\t  IIQ: 1.01  descreve(rnorm(100), breaks = 'Scott')  #>  #>  rnorm(100) :  100  observações  #>  #> Válidos: 100 \t Missings: 0  #> Menor: -1.9\t Maior: 2.56\t Amplitude: 4.46 #> Média: 0.15\t DP: 1.01\t CV(%): 667.26 #> Assimetria: 0.04\t Curtose(real): 2.4 #> Quantis: #>  2.5%    5%   25%   50%   75%   95% 97.5%  #> -1.72 -1.52 -0.54  0.16  0.91  1.88  2.09  #> \t\t  IIQ: 1.45  descreve(rnorm(100), breaks = 'Scott', linhas = FALSE, densidade = TRUE, col = 'skyblue')   #>  #>  rnorm(100) :  100  observações  #>  #> Válidos: 100 \t Missings: 0  #> Menor: -2.45\t Maior: 2.65\t Amplitude: 5.1 #> Média: -0.03\t DP: 1.06\t CV(%): 3845.49 #> Assimetria: 0.05\t Curtose(real): 2.53 #> Quantis: #>  2.5%    5%   25%   50%   75%   95% 97.5%  #> -2.08 -1.57 -0.86  0.02  0.71  1.62  2.01  #> \t\t  IIQ: 1.57  descreve(rnorm(100), print = \"tabela\")  #>            rnorm(100) #> n              100.00 #> Válidos        100.00 #> Missings         0.00 #> Menor           -1.98 #> Maior            2.13 #> Amplitude        4.11 #> Média            0.19 #> Variância        1.00 #> DP               1.00 #> CV(%)          527.92 #> Assimetria       0.06 #> Curtose          2.23 #> P2.5            -1.65 #> P5              -1.40 #> P25             -0.45 #> P50              0.06 #> P75              0.99 #> P95              1.84 #> P97.5            2.01 #> IIQ              1.44 obitosRS2019$sexo <- factor(obitosRS2019$sexo) descreve(obitosRS2019$idade)  #>  #>  obitosRS2019$idade :  10000  observações  #>  #> Válidos: 9993\t Missings: 7 (0.07%)  #> Menor: 0\t Maior: 112\t Amplitude: 112 #> Média: 68.78\t DP: 19.66\t CV(%): 28.59 #> Assimetria: -1.27\t Curtose(real): 4.91 #> Quantis: #>  2.5%    5%   25%   50%   75%   95% 97.5%  #>    17    29    60    72    83    92    95  #> \t\t  IIQ: 23  if (FALSE) { # \\dontrun{ # NÃO FUNCIONA! descreve(idade, obitosRS2019$sexo, data = obitosRS2019) # Esse funciona with(obitosRS2019, descreve(idade, sexo)) } # }"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ed.html","id":null,"dir":"Reference","previous_headings":"","what":"Seleciona as últimas colunas de um banco de dados — ed","title":"Seleciona as últimas colunas de um banco de dados — ed","text":"Enquanto tail mostra últimas linhas de uma matriz ou \"data frame\", ed() mostra últimas colunas de uma matriz ou \"data frame\".","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Seleciona as últimas colunas de um banco de dados — ed","text":"","code":"ed(x, n = 5)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Seleciona as últimas colunas de um banco de dados — ed","text":"x Banco de dados (objeto da classe data.frame, matrix ou table) n Número de colunas selecionar (por padrão são 5)","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Seleciona as últimas colunas de um banco de dados — ed","text":"Um objeto de classe data.frame com últimas colunas selecionadas de uma matriz ou banco de dados.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Seleciona as últimas colunas de um banco de dados — ed","text":"","code":"ed(RDRS2019) |> # As últimas 5 colunas do banco   head() #>   TPDISEC5 TPDISEC6 TPDISEC7 TPDISEC8 TPDISEC9 #> 1        0        0        0        0        0 #> 2        0        0        0        0        0 #> 3        0        0        0        0        0 #> 4        0        0        0        0        0 #> 5        0        0        0        0        0 #> 6        0        0        0        0        0 ed(RDRS2019, 8) |> # As últimas 8 colunas do banco   head()  #>   TPDISEC2 TPDISEC3 TPDISEC4 TPDISEC5 TPDISEC6 TPDISEC7 TPDISEC8 TPDISEC9 #> 1        0        0        0        0        0        0        0        0 #> 2        0        0        0        0        0        0        0        0 #> 3        0        0        0        0        0        0        0        0 #> 4        0        0        0        0        0        0        0        0 #> 5        0        0        0        0        0        0        0        0 #> 6        0        0        0        0        0        0        0        0 ed(RDRS2019, 1) |> # A última coluna do banco   head()  #>   TPDISEC9 #> 1        0 #> 2        0 #> 3        0 #> 4        0 #> 5        0 #> 6        0"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/folhinha.html","id":null,"dir":"Reference","previous_headings":"","what":"Desenha um calendário — folhinha","title":"Desenha um calendário — folhinha","text":"Útil para visualizar cronogramas de aulas","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/folhinha.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Desenha um calendário — folhinha","text":"","code":"folhinha(   inicio,   fim = NULL,   semanas = 18,   diasem,   feriados = NULL,   lang = \"pt\",   size = 3,   coraula = \"steelblue\",   corfer = \"antiquewhite1\",   corfimde = \"antiquewhite2\",   corNA = \"white\" )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/folhinha.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Desenha um calendário — folhinha","text":"inicio Data em formato YYYYMMDD (em caractere ou numeral) com o primeiro dia de aulas. fim Data em formato YYYYMMDD (em caractere ou numeral) com o último dia calendário. semanas Número de semanas letivas. Por padrão são 18. diasem Dias da semana das aulas, abreviados e em minúsculas. feriados Vetor com uma lista de datas para marcar feriados e dias não letivos. lang Idioma para os dias da semana, \"pt\" (padrão) para português ou \"es\" para castelhano. size Tamanho da letra dia gráfico. coraula Cor de fundo para os dias de aula. corfer Cor de fundo para os feriados e dias não letivos. corfimde Cor de fundo para os fins-de-semana. corNA Cor de fundo para o período não letivo.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/folhinha.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Desenha um calendário — folhinha","text":"Objeto ggplot2 com o desenho calendário.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/folhinha.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Desenha um calendário — folhinha","text":"","code":"folhinha(inicio = 20250305, diasem = c(\"seg\", \"qua\", \"sex\"))  folhinha(inicio = 20250311, fim = 20250725, diasem = c(\"ter\", \"qui\"))  folhinha(inicio = 20250304, sem = 15,    feriados = c(\"20250418\", \"2025/05/01\", \"2025-06-19\"),    diasem = c(\"mar\", \"jue\"), lang = \"es\",    size = 2.5, coraula = \"yellow\", corfer = \"tomato3\", corfimde = \"white\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/formatL.html","id":null,"dir":"Reference","previous_headings":"","what":"Números em formato latino — formatL","title":"Números em formato latino — formatL","text":"Apresenta números em formato latino, com ponto (.) como separador de milhar e vírgula (,) como separador decimal, mudando classe objeto de numeric para character. função simplesmente altera os padrões de formatC para big.mark = \".\" e decimal.mark = \",\".","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/formatL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Números em formato latino — formatL","text":"","code":"formatL(x, digits = 1, format = \"f\", ...)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/formatL.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Números em formato latino — formatL","text":"x Um número ou vetor com números digits Número de decimais format Formato numérico (ver formatC) ... Permite outros argumentos da função formatC","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/formatL.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Números em formato latino — formatL","text":"Um vetor de classe character com os valores formatados para impressão.","code":""},{"path":[]},{"path":"https://fulvionedel.github.io/Rcoisas/reference/formatL.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Números em formato latino — formatL","text":"","code":"formatL(1234.5678) #> [1] \"1.234,6\" formatL(rnorm(5), digits = 2) #> [1] \"2,10\"  \"-0,61\" \"-1,63\" \"-0,01\" \"-0,66\" set.seed(1) x <- c(rnorm(5, 30, 10), rep(20, 2), 25) x #> [1] 23.73546 31.83643 21.64371 45.95281 33.29508 20.00000 20.00000 25.00000 formatL(x)  #> [1] \"23,7\" \"31,8\" \"21,6\" \"46,0\" \"33,3\" \"20,0\" \"20,0\" \"25,0\" formatL(x, format = \"fg\", digits = 3) #> [1] \"23,7\" \"31,8\" \"21,6\" \"46\"   \"33,3\" \"20\"   \"20\"   \"25\""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetar.det_pra_fxetar5.html","id":null,"dir":"Reference","previous_headings":"","what":"Transforma a ","title":"Transforma a ","text":"Reclassifica idades < 20 anos em faixas etárias quinquenais, para ter um vetor com mesmas categorias da \"faixa etária detalhada\" de algumas tabulações DATASUS. Note que não é \"faixa etária detalhada\" dos arquivos das estimativas populacionais após o Censo de 2022.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetar.det_pra_fxetar5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transforma a ","text":"","code":"fxetar.det_pra_fxetar5(x, tipo = \"POPBR\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetar.det_pra_fxetar5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transforma a ","text":"x Um vetor com idade categorizada segundo: (1) os arquivos de população \"POPBR??.DBF\" (até o ano 2012) disponibilizados pelo DATASUS, ou (2) um data.frame com o resultado de uma tabulação com opção \"Faixa etária detalhada\" TABNET ou TabWin (v. detalhes) tipo Argumento obrigatório indicando origem dos dados, se um arquivo de população DATASUS  ou uma tabulação TABNET ou TabWin (tipo = \"tabela\"). O padrão é tipo = \"POPBR\". V. detalhes.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetar.det_pra_fxetar5.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transforma a ","text":"Se tipo = \"POPBR\", um vetor da classe character com idade categorizada em 17 faixas etárias: quinquenais de 0 79 anos e 80 e + anos de idade. Se tipo = \"tabela\", uma tabela (de classe data.frame) com \"faixa etária detalhada\" agregada nessas 17 faixas etárias.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetar.det_pra_fxetar5.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transforma a ","text":"Os arquivos \"POPBR??.DBF\" têm idade em anos completos até 19 anos, faixas quinquenais de 20-24 até 75-79 anos e 80 e + anos. \"faixa etária detalhada\" é uma opção de tabulação dos dados de mortalidade nos aplicativos TABNET (https://datasus.saude.gov.br/informacoes-de-saude-tabnet/) e TabWin, DATASUS. idade é detalhada nos componentes da Taxa de Mortalidade Infantil, < 1 ano não especificado, 1-4 anos, faixas quinquenais dos 5 aos 79 anos e 80 e mais. Nas opções de tabulação -line da \"morbidade hospitalar\", esses mesmos cortes são usados para definição da \"Faixa Etária 2\".","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetar.det_pra_fxetar5.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transforma a ","text":"","code":"data(\"POPBR12\") str(POPBR12) #> 'data.frame':\t367290 obs. of  6 variables: #>  $ MUNIC_RES: int  110001 110001 110001 110001 110001 110001 110001 110001 110001 110001 ... #>  $ ANO      : int  2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 ... #>  $ SEXO     : int  1 1 1 1 1 1 1 1 1 1 ... #>  $ SITUACAO : int  3 3 3 3 3 3 3 3 3 3 ... #>  $ FXETARIA : int  0 101 202 303 404 505 606 707 808 909 ... #>  $ POPULACAO: int  187 186 187 190 193 198 204 211 219 226 ... xtabs(POPULACAO ~ FXETARIA + SEXO, POPBR12) #>         SEXO #> FXETARIA       1       2 #>     0    1463815 1416101 #>     101  1426466 1379228 #>     202  1410325 1362640 #>     303  1412511 1363667 #>     404  1430272 1379568 #>     505  1460627 1407883 #>     606  1500707 1445796 #>     707  1547704 1490586 #>     808  1598586 1539797 #>     909  1650850 1590611 #>     1010 1706560 1645204 #>     1111 1768360 1705705 #>     1212 1806832 1745525 #>     1313 1808281 1752494 #>     1414 1785934 1738274 #>     1515 1765545 1726191 #>     1616 1741144 1710797 #>     1717 1726027 1703022 #>     1818 1729077 1710345 #>     1919 1743206 1726691 #>     2024 8782606 8766636 #>     2529 8610952 8795610 #>     3034 7853458 8166586 #>     3539 6883541 7243527 #>     4044 6427350 6800153 #>     4549 5785459 6240934 #>     5054 4912910 5389329 #>     5559 3963556 4441120 #>     6064 3087312 3520063 #>     6569 2256975 2654866 #>     7074 1691406 2103802 #>     7579 1105881 1493580 #>     8099 1148647 1827317 POPBR12$FXETAR5 <- fxetar.det_pra_fxetar5(POPBR12$FXETARIA) str(POPBR12) #> 'data.frame':\t367290 obs. of  7 variables: #>  $ MUNIC_RES: int  110001 110001 110001 110001 110001 110001 110001 110001 110001 110001 ... #>  $ ANO      : int  2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 ... #>  $ SEXO     : int  1 1 1 1 1 1 1 1 1 1 ... #>  $ SITUACAO : int  3 3 3 3 3 3 3 3 3 3 ... #>  $ FXETARIA : int  0 101 202 303 404 505 606 707 808 909 ... #>  $ POPULACAO: int  187 186 187 190 193 198 204 211 219 226 ... #>  $ FXETAR5  : chr  \"00-04\" \"00-04\" \"00-04\" \"00-04\" ... xtabs(POPULACAO ~ FXETAR5 + SEXO, POPBR12) #>        SEXO #> FXETAR5       1       2 #>   00-04 7143389 6901204 #>   05-09 7758474 7474673 #>   10-14 8875967 8587202 #>   15-19 8704999 8577046 #>   20-24 8782606 8766636 #>   25-29 8610952 8795610 #>   30-34 7853458 8166586 #>   35-39 6883541 7243527 #>   40-44 6427350 6800153 #>   45-49 5785459 6240934 #>   50-54 4912910 5389329 #>   55-59 3963556 4441120 #>   60-64 3087312 3520063 #>   65-69 2256975 2654866 #>   70-74 1691406 2103802 #>   75-79 1105881 1493580 #>   80e+  1148647 1827317 # Um arquivo csv de uma tabulação da Declaração de Óbito no TABNET  # (residentes no RS, 2021): if (FALSE) { # \\dontrun{ df <- read.csv2(\"sim_cnv_obt10rs195350189_4_122_229.csv\",                  skip = 3, nrows = 21, encoding = \"latin1\") |>   dplyr::select(-Ign) |>    fxetar.det_pra_fxetar5(tipo = 'tabela') } # } # Os valores são os seguintes: dors21 <- data.frame(  fxetar.det = c(\"0 a 6 dias\", \"7 a 27 dias\", \"28 a 364 dias\", \"1 a 4 anos\",            \"5 a 9 anos\", \"10 a 14 anos\", \"15 a 19 anos\", \"20 a 24 anos\",              \"25 a 29 anos\", \"30 a 34 anos\", \"35 a 39 anos\", \"40 a 44 anos\",              \"45 a 49 anos\",  \"50 a 54 anos\",  \"55 a 59 anos\", \"60 a 64 anos\",              \"65 a 69 anos\", \"70 a 74 anos\", \"75 a 79 anos\", \"80 anos e mais\"),    masc = c(361, 156, 155, 144, 64, 83, 462, 817, 880, 1155, 1508, 1954, 2514,            3488, 5170, 6557, 7566, 7989, 7438, 14444),   fem = c(257, 111, 148, 88, 46, 68, 141, 271, 393, 561, 870, 1190, 1681,            2175, 3265, 4240, 5370, 6181, 6508, 21159)) dors21 #>        fxetar.det  masc   fem #> 1      0 a 6 dias   361   257 #> 2     7 a 27 dias   156   111 #> 3   28 a 364 dias   155   148 #> 4      1 a 4 anos   144    88 #> 5      5 a 9 anos    64    46 #> 6    10 a 14 anos    83    68 #> 7    15 a 19 anos   462   141 #> 8    20 a 24 anos   817   271 #> 9    25 a 29 anos   880   393 #> 10   30 a 34 anos  1155   561 #> 11   35 a 39 anos  1508   870 #> 12   40 a 44 anos  1954  1190 #> 13   45 a 49 anos  2514  1681 #> 14   50 a 54 anos  3488  2175 #> 15   55 a 59 anos  5170  3265 #> 16   60 a 64 anos  6557  4240 #> 17   65 a 69 anos  7566  5370 #> 18   70 a 74 anos  7989  6181 #> 19   75 a 79 anos  7438  6508 #> 20 80 anos e mais 14444 21159 fxetar.det_pra_fxetar5(dors21, tipo = \"tabela\") #> # A tibble: 17 × 3 #>    fxetar5  masc   fem #>    <fct>   <dbl> <dbl> #>  1 0-4       816   604 #>  2 5-9        83    68 #>  3 10-14     462   141 #>  4 15-19     817   271 #>  5 20-24     880   393 #>  6 25-29    1155   561 #>  7 30-34    1508   870 #>  8 35-39    1954  1190 #>  9 40-44    2514  1681 #> 10 45-49      64    46 #> 11 50-54    3488  2175 #> 12 55-59    5170  3265 #> 13 60-64    6557  4240 #> 14 65-69    7566  5370 #> 15 70-74    7989  6181 #> 16 75-79    7438  6508 #> 17 80e+    14444 21159  dors21$total <- dors21$masc + dors21$fem fxetar.det_pra_fxetar5(dors21, tipo = \"tabela\") #> # A tibble: 17 × 4 #>    fxetar5  masc   fem total #>    <fct>   <dbl> <dbl> <dbl> #>  1 0-4       816   604  1420 #>  2 5-9        83    68   151 #>  3 10-14     462   141   603 #>  4 15-19     817   271  1088 #>  5 20-24     880   393  1273 #>  6 25-29    1155   561  1716 #>  7 30-34    1508   870  2378 #>  8 35-39    1954  1190  3144 #>  9 40-44    2514  1681  4195 #> 10 45-49      64    46   110 #> 11 50-54    3488  2175  5663 #> 12 55-59    5170  3265  8435 #> 13 60-64    6557  4240 10797 #> 14 65-69    7566  5370 12936 #> 15 70-74    7989  6181 14170 #> 16 75-79    7438  6508 13946 #> 17 80e+    14444 21159 35603"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetarNM.html","id":null,"dir":"Reference","previous_headings":"","what":"Faixa etária nas categorias de Nelson de Moraes — fxetarNM","title":"Faixa etária nas categorias de Nelson de Moraes — fxetarNM","text":"Recodifica vetores com idade em números inteiros ou em faixas etárias quinquenais em três grandes faixas etárias: 0-14, 15-59 e 60 e + anos.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetarNM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Faixa etária nas categorias de Nelson de Moraes — fxetarNM","text":"","code":"fxetarNM(idade = NULL, fxetardet = NULL, grafico = FALSE, ...)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetarNM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Faixa etária nas categorias de Nelson de Moraes — fxetarNM","text":"idade Vetor numérico representando idade em valores contínuos ou inteiros. fxetardet Vetor da classe factor ou character com diferentes categorizações de faixa etária disponíveis para tabulação TABNET (\"faixa etária detalhada\", e outras formas com detalhamento de < 1 ano, 1 4 anos e faixas quinquenais ou decenais que permitem o cálculo )  representando 17 faixas etárias quinquenais, rotuladas conforme o resultado da função csapAIH::fxetar_quinq (números separados por hífen, sem espaços: \"0-4\", ..., \"75-79\", \"80 e +\"). grafico Vetor lógico, FALSE por padrão. Se TRUE, desenha o gráfico da curva. ... Permite definição de outros parâmetros gráficos.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetarNM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Faixa etária nas categorias de Nelson de Moraes — fxetarNM","text":"Se fornecida idade, devolve um fator com frequências observada em cada faixa etária; se fornecida faixa etária, devolve um vetor da classe caractere com frequências de cada faixa etária; se não são fornecidas nem idade nem faixa etária – com `fxetarNM()` –, função devolve um vetor com os nomes das faixas etárias.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/fxetarNM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Faixa etária nas categorias de Nelson de Moraes — fxetarNM","text":"","code":"# Apenas citar os grupos: fxetarNM() #> [1] \"< 1\"    \"1-4\"    \"5-19\"   \"20-49\"  \"50 e +\"  # Observar a curva na amostra de óbitos no RS em 2019: ## a idade já foi computada, com a função \\code{idadeSUS}, do pacote \\code{csapAIH}, com ## csapAIH::idadeSUS(obitosRS2019, sis = \"SIM\") ## Computar as faixas etárias de Nelson de Moraes fxetarNM(obitosRS2019$idade) |> table() #>  #>    < 1    1-4   5-19  20-49 50 e +  #>    168     25    114   1021   8665   ## Desenhar a curva (podem-se usar os parâmetros gráficos) fxetarNM(obitosRS2019$idade, grafico = TRUE,           col.sub = 4, font.sub = 3, cex.sub = .8, cex.main = .95,          main = \"Curva de Nelson de Moraes. RS, 2019.\",           sub = \"\\nAmostra aleatória de 10.000 óbitos.\")    # ## Tabela do TABNET # Os óbitos de residentes do RS em 2021 por faixa etária detalhada podem ser tabulados no TABNET,  # em http://tabnet.datasus.gov.br/cgi/deftohtm.exe?sim/cnv/obt10rs.def, resultando (em 21/05/2023)  # na seguinte tabela (http://tabnet.datasus.gov.br/cgi/tabcgi.exe?sim/cnv/obt10rs.def)  obitosRS2021 <- data.frame(   fxetar = c(\"0 a 6 dias\", \"7 a 27 dias\", \"28 a 364 dias\", \"1 a 4 anos\", \"5 a 9 anos\",               \"10 a 14 anos\", \"15 a 19 anos\", \"20 a 24 anos\", \"25 a 29 anos\", \"30 a 34 anos\",               \"35 a 39 anos\", \"40 a 44 anos\", \"45 a 49 anos\", \"50 a 54 anos\", \"55 a 59 anos\",               \"60 a 64 anos\", \"65 a 69 anos\", \"70 a 74 anos\", \"75 a 79 anos\", \"80 anos e mais\",               \"Idade ignorada\"),   casos = c(623, 267, 304, 232, 110, 151, 603, 1088, 1273, 1716, 2379, 3144, 4195, 5665, 8437,              10799, 12937, 14173, 13950, 35610, 66) ) # Se no TABNET a tabela for salva com a opção \"copia como CSV\", e depois salva em formato .xlsx,  # poderia ser lida com o comando if (FALSE) { # \\dontrun{   obitosRS <- readxl::read_excel(\"~/Downloads/teste-fxetardet.xlsx\", range = \"A4:B25\") } # }   # Com essa tabela, os seguintes comandos desenham a curva de Nelson de Moraes: xtabs(casos/sum(casos)*100 ~ fxetarNM(fxetardet = obitosRS2021$fxetar), data = obitosRS2021) |> plot(type = 'l', main = \"Curva de Nelson de Moraes.\\nRio Grande do Sul, 2021.\",  xlab = \"Faixa etária (anos)\", ylab = \"% dos óbitos\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ggplot_pir.html","id":null,"dir":"Reference","previous_headings":"","what":"Pirâmides populacionais — ggplot_pir","title":"Pirâmides populacionais — ggplot_pir","text":"Pirâmides populacionais","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ggplot_pir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pirâmides populacionais — ggplot_pir","text":"","code":"ggplot_pir(   banco,   idade,   sexo,   populacao = NULL,   catsexo = c(\"masc\", \"fem\"),   cores = c(\"steelblue\", \"hotpink\"),   nsize = 3.5 )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ggplot_pir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pirâmides populacionais — ggplot_pir","text":"banco Um data frame com população ou casos por sexo e faixa etária. idade Nome da variável com idade ou faixa etária deve ir entre aspas. sexo Nome da variável com o sexo; deve ir entre aspas e ser um factor. populacao Nome da variável (entre aspas) com população ou casos, se houver; por padrão é NULL, isto é, função espera um banco de registros individuais e calcula frequência por sexo e faixa etária indicada. catsexo Vetor com o nome das categorias da variável sexo; padrão é c(\"masc\", \"fem\"); o sexo masculino deve ser primeira categoria. cores Cores das barras, para categorias masculino e feminino. O padrão é c(\"darkblue\", \"violetred\"). nsize Tamanho texto com o nº total de habitantes. O padrão é 3.5.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ggplot_pir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pirâmides populacionais — ggplot_pir","text":"Um objeto de classe gg e ggplot com o gráfico da pirâmide populacional.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/ggplot_pir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pirâmides populacionais — ggplot_pir","text":"","code":"data(\"POPBR12\") str(POPBR12) #> 'data.frame':\t367290 obs. of  6 variables: #>  $ MUNIC_RES: int  110001 110001 110001 110001 110001 110001 110001 110001 110001 110001 ... #>  $ ANO      : int  2012 2012 2012 2012 2012 2012 2012 2012 2012 2012 ... #>  $ SEXO     : int  1 1 1 1 1 1 1 1 1 1 ... #>  $ SITUACAO : int  3 3 3 3 3 3 3 3 3 3 ... #>  $ FXETARIA : int  0 101 202 303 404 505 606 707 808 909 ... #>  $ POPULACAO: int  187 186 187 190 193 198 204 211 219 226 ... # \"SEXO\" é da classe 'integer';  # além disso, os primeiros 19 anos de idade estão em faixas anuais  # e os demais (até 80) em faixas quinquenais. if (FALSE) { # \\dontrun{ ggplot_pir(POPBR12, \"FXETARIA\", \"SEXO\", \"POPULACAO\") } # } # não dá o gráfico desejado.  # Transformando o sexo em fator e reclassificando a faixa etária: require(dplyr) #> Loading required package: dplyr #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union POPBR12 <- POPBR12 %>%    mutate(SEXO = factor(SEXO, labels = c(\"masc\", \"fem\")),          FXETAR5 = fxetar.det_pra_fxetar5(FXETARIA))  ggplot_pir(POPBR12, \"FXETAR5\", \"SEXO\", \"POPULACAO\")   # Cerro Largo, RS ggplot_pir(POPBR12[POPBR12$MUNIC_RES==430520, ],             \"FXETAR5\", \"SEXO\", \"POPULACAO\")    # ## Mortalidade por anos completos de vida  # Se o banco é de registros individuais, sem uma variável com a  # contagem da população, a função conta as frequências em cada  # sexo e faixa etária específicos.   data(\"obitosRS2019\") str(obitosRS2019) #> 'data.frame':\t10000 obs. of  91 variables: #>  $ ORIGEM    : chr  \"1\" \"1\" \"1\" \"1\" ... #>  $ TIPOBITO  : chr  \"2\" \"2\" \"2\" \"2\" ... #>  $ DTOBITO   : chr  \"30082019\" \"25102019\" \"11062019\" \"09102019\" ... #>  $ HORAOBITO : chr  \"1800\" \"0439\" \"0730\" \"1415\" ... #>  $ NATURAL   : chr  \"843\" \"843\" \"843\" \"843\" ... #>  $ CODMUNNATU: chr  \"430420\" \"431440\" \"431440\" \"431840\" ... #>  $ DTNASC    : chr  \"05091938\" \"17101948\" \"18051989\" \"02071950\" ... #>  $ IDADE     : chr  \"480\" \"471\" \"430\" \"469\" ... #>  $ SEXO      : chr  \"1\" \"1\" \"1\" \"2\" ... #>  $ RACACOR   : chr  \"1\" \"1\" \"1\" \"1\" ... #>  $ ESTCIV    : chr  \"2\" \"4\" \"1\" \"3\" ... #>  $ ESC       : chr  \"4\" \"4\" \"9\" \"9\" ... #>  $ ESC2010   : chr  \"2\" \"3\" \"9\" \"9\" ... #>  $ SERIESCFAL: chr  \"8\" NA NA NA ... #>  $ OCUP      : chr  \"999993\" \"517205\" \"354705\" \"999992\" ... #>  $ CODMUNRES : chr  \"430300\" \"431440\" \"431440\" \"430270\" ... #>  $ LOCOCOR   : chr  \"1\" \"1\" \"3\" \"1\" ... #>  $ CODESTAB  : chr  \"2266474\" \"2252295\" NA \"2693801\" ... #>  $ ESTABDESCR: chr  NA NA NA NA ... #>  $ CODMUNOCOR: chr  \"430300\" \"431440\" \"431440\" \"431490\" ... #>  $ IDADEMAE  : chr  NA NA NA NA ... #>  $ ESCMAE    : chr  NA NA NA NA ... #>  $ ESCMAE2010: chr  NA NA NA NA ... #>  $ SERIESCMAE: chr  NA NA NA NA ... #>  $ OCUPMAE   : chr  NA NA NA NA ... #>  $ QTDFILVIVO: chr  NA NA NA NA ... #>  $ QTDFILMORT: chr  NA NA NA NA ... #>  $ GRAVIDEZ  : chr  NA NA NA NA ... #>  $ SEMAGESTAC: chr  NA NA NA NA ... #>  $ GESTACAO  : chr  NA NA NA NA ... #>  $ PARTO     : chr  NA NA NA NA ... #>  $ OBITOPARTO: chr  NA NA NA NA ... #>  $ PESO      : chr  NA NA NA NA ... #>  $ TPMORTEOCO: chr  NA NA NA NA ... #>  $ OBITOGRAV : chr  NA NA NA NA ... #>  $ OBITOPUERP: chr  NA NA NA NA ... #>  $ ASSISTMED : chr  \"1\" \"1\" \"2\" \"1\" ... #>  $ EXAME     : chr  NA NA NA NA ... #>  $ CIRURGIA  : chr  NA NA NA NA ... #>  $ NECROPSIA : chr  \"2\" \"2\" \"1\" \"2\" ... #>  $ LINHAA    : chr  \"*J969\" \"*A419\" \"*X958*T792*T794\" \"*R092\" ... #>  $ LINHAB    : chr  \"*C349\" \"*L038\" NA \"*A419\" ... #>  $ LINHAC    : chr  NA \"*J189\" NA \"*J189\" ... #>  $ LINHAD    : chr  NA \"*I499\" NA \"*N179\" ... #>  $ LINHAII   : chr  NA NA NA \"*E149*I10X\" ... #>  $ CAUSABAS  : chr  \"C349\" \"I499\" \"X958\" \"E142\" ... #>  $ CB_PRE    : chr  NA NA NA NA ... #>  $ COMUNSVOIM: chr  NA NA NA NA ... #>  $ DTATESTADO: chr  \"31082019\" \"25102019\" \"11062019\" \"09102019\" ... #>  $ CIRCOBITO : chr  NA NA \"3\" NA ... #>  $ ACIDTRAB  : chr  NA NA NA NA ... #>  $ FONTE     : chr  NA NA \"1\" NA ... #>  $ NUMEROLOTE: chr  \"20190018\" \"20190047\" \"20190028\" \"20200066\" ... #>  $ TPPOS     : chr  \"N\" \"N\" \"N\" NA ... #>  $ DTINVESTIG: chr  NA NA NA NA ... #>  $ CAUSABAS_O: chr  \"C349\" \"I499\" \"X958\" \"E142\" ... #>  $ DTCADASTRO: chr  \"10092019\" \"31102019\" \"24062019\" \"04112019\" ... #>  $ ATESTANTE : chr  \"1\" NA \"3\" \"2\" ... #>  $ STCODIFICA: chr  \"S\" \"S\" \"S\" \"S\" ... #>  $ CODIFICADO: chr  \"S\" \"S\" \"S\" \"S\" ... #>  $ VERSAOSIST: chr  \"3.2.00\" \"3.2.00\" \"3.2.00\" \"3.2.30\" ... #>  $ VERSAOSCB : chr  \"3.2\" \"3.2\" \"3.2\" \"3.2\" ... #>  $ FONTEINV  : chr  NA NA NA NA ... #>  $ DTRECEBIM : chr  \"14102019\" \"05112019\" \"02072019\" \"20112020\" ... #>  $ ATESTADO  : chr  \"J969/C349\" \"A419/L038/J189/I499\" \"X958 T792 T794\" \"R092/A419/J189/N179*E149 I10\" ... #>  $ DTRECORIGA: chr  \"17092019\" \"05112019\" \"02072019\" \"06112019\" ... #>  $ CAUSAMAT  : chr  NA NA NA NA ... #>  $ ESCMAEAGR1: chr  NA NA NA NA ... #>  $ ESCFALAGR1: chr  \"04\" \"12\" \"09\" \"09\" ... #>  $ STDOEPIDEM: chr  \"0\" \"0\" \"0\" \"0\" ... #>  $ STDONOVA  : chr  \"1\" \"1\" \"1\" \"1\" ... #>  $ DIFDATA   : chr  \"045\" \"011\" \"021\" \"408\" ... #>  $ NUDIASOBCO: chr  NA NA NA NA ... #>  $ NUDIASOBIN: chr  NA NA NA NA ... #>  $ DTCADINV  : chr  NA NA NA NA ... #>  $ TPOBITOCOR: chr  NA NA NA NA ... #>  $ DTCONINV  : chr  NA NA NA NA ... #>  $ FONTES    : chr  NA NA NA NA ... #>  $ TPRESGINFO: chr  NA NA NA NA ... #>  $ TPNIVELINV: chr  NA NA NA NA ... #>  $ NUDIASINF : chr  NA NA NA NA ... #>  $ DTCADINF  : chr  NA NA NA NA ... #>  $ MORTEPARTO: chr  NA NA NA NA ... #>  $ DTCONCASO : chr  NA NA NA NA ... #>  $ FONTESINF : chr  NA NA NA NA ... #>  $ ALTCAUSA  : chr  NA NA NA NA ... #>  $ CONTADOR  : chr  \"1340380\" \"1310379\" \"133084\" \"1310040\" ... #>  $ idade     : num  80 71 30 69 21 90 65 81 31 73 ... #>  $ fxetar.det: chr  \"80 e +\" \"70-74\" \"30-34\" \"65-69\" ... #>  $ fxetar5   : chr  \"80 e +\" \"70-74\" \"30-34\" \"65-69\" ... #>  $ sexo      : Factor w/ 2 levels \"masc\",\"fem\": 1 1 1 2 1 2 2 1 2 1 ... #>  - attr(*, \"data_types\")= chr [1:87] \"C\" \"C\" \"C\" \"C\" ...  obitosRS2019 %>%  mutate(sexo = factor(sexo, levels = c(\"masc\", \"fem\"))) %>%   ggplot_pir(\"idade\", \"sexo\") #> Warning: Removed 6 rows containing non-finite outside the scale range (`stat_count()`).    # O comando acima devolve o mesmo gráfico que o comando abaixo:   obitosRS2019 %>%  mutate(sexo = factor(sexo, levels = c(\"masc\", \"fem\"))) %>%  count(idade, sexo) %>% # linha desnecessária  ggplot_pir(\"idade\", \"sexo\", \"n\") #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_col()`)."},{"path":"https://fulvionedel.github.io/Rcoisas/reference/histobox.html","id":null,"dir":"Reference","previous_headings":"","what":"Histograma com boxplot — histobox","title":"Histograma com boxplot — histobox","text":"Desenha um histograma com boxplot integrado ao mesmo gráfico","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/histobox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Histograma com boxplot — histobox","text":"","code":"histobox(   x,   limites = NULL,   col.h = \"cyan\",   col.bx = \"skyblue1\",   maresq = 4.5,   mardir = 2.1,   ... )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/histobox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Histograma com boxplot — histobox","text":"x Uma variável numérica limites Limites eixo x col.h Cor histograma col.bx Cor boxplot maresq Margem esquerda gráfico mardir Margem direita gráfico ... Outros parâmetros de hist e boxplot","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/histobox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Histograma com boxplot — histobox","text":"O desenho gráfico","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/histobox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Histograma com boxplot — histobox","text":"","code":"varnum <- rnorm(1000) histobox(varnum)  histobox(varnum, ylab = \"Frequência\")  histobox(varnum, maresq = 2.8)  # Se a margem esquerda for zero, o eixo y é removido: histobox(varnum, col.h = \"tomato\", col.bx = \"yellow\", maresq = 0)  histobox(varnum, col.h = \"tomato\", col.bx = \"yellow\", mardir = 0)  histobox(varnum, col.h = \"tomato\", col.bx = \"yellow\", maresq = 0, mardir = 0)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/numescrito.html","id":null,"dir":"Reference","previous_headings":"","what":"Escreve números em texto, em português — numescrito","title":"Escreve números em texto, em português — numescrito","text":"Dado um número entre 0 e 12, devolve seu valor em texto em português.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/numescrito.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Escreve números em texto, em português — numescrito","text":"","code":"numescrito(x, genero = \"masc\")"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/numescrito.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Escreve números em texto, em português — numescrito","text":"x Número ser convertido genero Gênero número. Se \"fem\" ou \"f\" o número será escrito feminino.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/numescrito.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Escreve números em texto, em português — numescrito","text":"Para números negativos ou maiores de 12","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/numescrito.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Escreve números em texto, em português — numescrito","text":"","code":"numescrito(0) #> [1] \"zero\" numescrito(1) #> [1] \"um\" numescrito(1, genero = 'fem') #> [1] \"uma\" paste(numescrito(2, 'f'), \"+\", numescrito(3), \"=\", numescrito(2+3)) #> [1] \"duas + três = cinco\" paste(numescrito(3), \"-\", numescrito(2, 'f'), \"=\", numescrito(3-2, 'f')) #> [1] \"três - duas = uma\" # Limitações: 0<x<12 numescrito(-2) #> [1] -2 numescrito(13) #> [1] 13 numescrito(20) #> [1] 20 paste(numescrito(6), \"+\", numescrito(7), \"=\", numescrito(6+7)) #> [1] \"seis + sete = 13\" paste(numescrito(13), \"-\", numescrito(6), \"=\", numescrito(13-6)) #> [1] \"13 - seis = sete\""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/obitosRS2019.html","id":null,"dir":"Reference","previous_headings":"","what":"Registros de óbito — obitosRS2019","title":"Registros de óbito — obitosRS2019","text":"Amostra de Declarações de Óbito () de residentes RS, 2019.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/obitosRS2019.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Registros de óbito — obitosRS2019","text":"","code":"obitosRS2019"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/obitosRS2019.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Registros de óbito — obitosRS2019","text":"Banco de dados com amostra aleatória de 10.000 de 2019 de residentes RS, registrados Sistema de Informação de Mortalidade (SIM). O banco foi previamente trabalhado para decodificação da idade, de modo que idade represente idade em anos completos (0 para < 1 ano), e para definição de missings e rótulos campo sexo. Essas variáveis foram acrescentadas (com nome em letra minúscula, `idade` e `sexo`), sendo mantidas originais (`IDADE`, `SEXO`).","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/obitosRS2019.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Registros de óbito — obitosRS2019","text":"Sistema de Informações sobre Mortalidade (SIM)","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot.histobox.html","id":null,"dir":"Reference","previous_headings":"","what":"Método para histobox — plot.histobox","title":"Método para histobox — plot.histobox","text":"Método para histobox","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot.histobox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Método para histobox — plot.histobox","text":"","code":"# S3 method for class 'histobox' plot(x, ...)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot.histobox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Método para histobox — plot.histobox","text":"x Uma variável numérica ... Permite inclusão de argumentos para hist","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plotZ.html","id":null,"dir":"Reference","previous_headings":"","what":"Gráfico da probabilidade de pertencer a uma área da curva Normal — plotZ","title":"Gráfico da probabilidade de pertencer a uma área da curva Normal — plotZ","text":"Gráfico da probabilidade de pertencer uma área da curva Normal","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plotZ.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gráfico da probabilidade de pertencer a uma área da curva Normal — plotZ","text":"","code":"plotZ(   x = NULL,   mu = 0,   dp = 1,   p = NULL,   z = NULL,   cor = 2,   main = NULL,   sub = NULL,   area = \"abaixo\",   cex.main = 2,   cex.sub = 1.5,   cex.axis = 1.3,   ... )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plotZ.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gráfico da probabilidade de pertencer a uma área da curva Normal — plotZ","text":"x valor comparar com média mu média dp desvio-padrão p probabilidade z escore-z cor cor preenchimento da área sob curva main título sub subtítulo area \"abaixo\" (padrão) calcula e desenha probabilidade de um valor menor ou igual x, p ou z; \"acima\" calcula e desenha probabilidade de um valor maior que x, p ou z cex.main tamanho da fonte título cex.sub tamanho da fonte subtítulo cex.axis tamanho da fonte eixo ... Permite o uso de outros parâmetros gráficos","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plotZ.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gráfico da probabilidade de pertencer a uma área da curva Normal — plotZ","text":"O gráfico (objeto de classe NULL) com área de probabilidade achurada.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plotZ.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gráfico da probabilidade de pertencer a uma área da curva Normal — plotZ","text":"","code":"plotZ(p = .975)  #> [[1]] #> P(X <= \"1,96\") == \"0,975\" #>  #> $x #> [1] 1.959964 #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.975 #>  #> $z #> NULL #>  plotZ(p = .025)  #> [[1]] #> P(X <= \"-1,96\") == \"0,025\" #>  #> $x #> [1] -1.959964 #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.025 #>  #> $z #> NULL #>  plotZ(z = 1.96)  #> [[1]] #> P(Z <= \"1,96\") == \"0,975\" #>  #> $x #> NULL #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.9750021 #>  #> $z #> [1] 1.96 #>  plotZ(z = -1.96)  #> [[1]] #> P(Z <= \"-1,96\") == \"0,025\" #>  #> $x #> NULL #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.0249979 #>  #> $z #> [1] -1.96 #>  plotZ(p = .975, area = \"acima\")  #> [[1]] #> P(X > \"1,96\") == \"0,025\" #>  #> $x #> [1] 1.959964 #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.975 #>  #> $z #> NULL #>  plotZ(p = .025, area = \"acima\")  #> [[1]] #> P(X > \"-1,96\") == \"0,975\" #>  #> $x #> [1] -1.959964 #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.025 #>  #> $z #> NULL #>  plotZ(z = 1.96, area = \"acima\")  #> [[1]] #> P(Z > \"1,96\") == \"0,025\" #>  #> $x #> NULL #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.9750021 #>  #> $z #> [1] 1.96 #>  plotZ(z = -1.96, area = \"acima\")  #> [[1]] #> P(Z > \"-1,96\") == \"0,975\" #>  #> $x #> NULL #>  #> $media #> [1] 0 #>  #> $dp #> [1] 1 #>  #> $p #> [1] 0.0249979 #>  #> $z #> [1] -1.96 #>  plotZ(x = 10, mu = 4.7, dp = 2.7, cor = \"yellow\")  #> [[1]] #> P(Z <= \"1,96\") == \"0,975\" #>  #> $x #> [1] 10 #>  #> $media #> [1] 4.7 #>  #> $dp #> [1] 2.7 #>  #> $p #> [1] 0.9751748 #>  #> $z #> [1] 1.962963 #>  plotZ(x = 10, mu = 4.7, dp = 2.7, area = \"acima\")  #> [[1]] #> P(Z > \"1,96\") == \"0,025\" #>  #> $x #> [1] 10 #>  #> $media #> [1] 4.7 #>  #> $dp #> [1] 2.7 #>  #> $p #> [1] 0.9751748 #>  #> $z #> [1] 1.962963 #>  # plotZ(x = c(8, 10), mu = 4.7, dp = 2.7)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot_pir.html","id":null,"dir":"Reference","previous_headings":"","what":"Pirâmides populacionais com os arquivos de população disponibilizados pelo DATASUS — plot_pir","title":"Pirâmides populacionais com os arquivos de população disponibilizados pelo DATASUS — plot_pir","text":"Desenha uma pirâmide etária partir dos arquivos de população distribuídos pelo DATASUS com censos, contagens e estimativas por sexo e faixa etária para os municípios brasileiros dos anos 1980 2012.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot_pir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pirâmides populacionais com os arquivos de população disponibilizados pelo DATASUS — plot_pir","text":"","code":"plot_pir(   pop,   tabela = FALSE,   ano = NULL,   local = \"população\",   title = NULL,   npop = NULL,   fontsize = 1.1,   axes = FALSE,   fonte = NULL,   x.lim = NULL,   colmasc = \"mediumblue\",   colfem = \"red2\",   colfxetar = \"white\",   border = par(\"fg\"),   inside = T,   drop.unused.levels = FALSE,   ... )"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot_pir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pirâmides populacionais com os arquivos de população disponibilizados pelo DATASUS — plot_pir","text":"pop Um data frame com estrutura dos arquivos \"POPBR??.DBF\" disponibilizados pelo DATASUS, ou uma tabela com o sexo nas colunas (masc, fem) e idade em 17 faixas etárias (0-4, ... 75-79, 80+) nas linhas. tabela Argumento lógico. Padrão é FALSE, deve ser mudado para TRUE quando população é uma tabela como indicado acima. ano Indicar o período de referência, para o título gráfico. Apenas para quando população é uma tabela, quando se usam os arquivos de população DATASUS, informação é capturada automaticamente. local Para o título: de onde é população representada? title Título gáfico. O padrão é NULL e se não informado pelo usuário, é impresso mapa o texto \"Pirâmide populacional.\" seguido pelo resultado dos argumentos local e ano. Para não aparecer texto algum, informe title = \"\" ou title = FALSE. npop Nº total de habitantes, ser digitado pelo usuário se pop uma tabela com distribuição proporcional de habitantes por sexo e faixa etária. Se os valores forem porcentagem de habitantes, o texto automático resulta em \"100\", já que os valores somam 100%. O padrão é NULL. fontsize Tamanho de fonte título gráfico. axes Não sei se vale pena ir como opção ou já colocar direto o padrão FALSE. **Ver melhor** fonte Texto para citar fonte ao pé gráfico. O padrão é NULL e se não informado pelo usuário, é impresso mapa o texto \"Fonte: DATASUS (www.datasus.gov.br)\". Para não aparecer texto algum, informe fonte = \"\" ou fonte = FALSE. x.lim Limites eixo x. colmasc Cor para o sexo masculino. colfem Cor para o sexo feminino. colfxetar Cor para os rótulos da faixa etária. border Cor da borda das barras. inside Ver função barplot drop.unused.levels Apagar níveis não usados nos fatores? ... argumentos de outras funções para personalização gráfico.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/plot_pir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pirâmides populacionais com os arquivos de população disponibilizados pelo DATASUS — plot_pir","text":"","code":"data(\"POPBR12\") plot_pir(POPBR12, local = 'Brasil') #> Input object size:\t 8816320 bytes;\t 6 variables\t 367290 observations #> New object size:\t8816320 bytes;\t6 variables\t367290 observations  #>       masculino feminino #> 0-4     7143389  6901204 #> 5-9     7758474  7474673 #> 10-14   8875967  8587202 #> 15-19   8704999  8577046 #> 20-24   8782606  8766636 #> 25-29   8610952  8795610 #> 30-34   7853458  8166586 #> 35-39   6883541  7243527 #> 40-44   6427350  6800153 #> 45-49   5785459  6240934 #> 50-54   4912910  5389329 #> 55-59   3963556  4441120 #> 60-64   3087312  3520063 #> 65-69   2256975  2654866 #> 70-74   1691406  2103802 #> 75-79   1105881  1493580 #> 80 +    1148647  1827317 plot_pir(POPBR12[substr(POPBR12$MUNIC_RES, 1,2)==42, ], local='Santa Catarina') #> Input object size:\t 542816 bytes;\t 6 variables\t 19338 observations #> New object size:\t542816 bytes;\t6 variables\t19338 observations  #>       masculino feminino #> 0-4      211484   203141 #> 5-9      227751   218372 #> 10-14    270559   260261 #> 15-19    282061   274806 #> 20-24    293727   284584 #> 25-29    292662   286682 #> 30-34    262114   260587 #> 35-39    239691   241816 #> 40-44    234949   239257 #> 45-49    221122   229896 #> 50-54    183132   191601 #> 55-59    146876   156127 #> 60-64    109084   118969 #> 65-69     74825    85653 #> 70-74     53355    65925 #> 75-79     33424    46482 #> 80 +      30289    52022 plot_pir(POPBR12[substr(POPBR12$MUNIC_RES, 1,2)==43, ], local='Rio Grande do Sul') #> Input object size:\t 917960 bytes;\t 6 variables\t 32736 observations #> New object size:\t917960 bytes;\t6 variables\t32736 observations  #>       masculino feminino #> 0-4      330163   318750 #> 5-9      371730   357290 #> 10-14    441770   426105 #> 15-19    445571   436395 #> 20-24    441206   436597 #> 25-29    449192   452128 #> 30-34    402105   412642 #> 35-39    368838   381933 #> 40-44    371766   394127 #> 45-49    375391   402663 #> 50-54    334838   363164 #> 55-59    279111   309171 #> 60-64    218365   249476 #> 65-69    156708   188840 #> 70-74    113490   150000 #> 75-79     74330   113777 #> 80 +      68084   134887 plot_pir(POPBR12[POPBR12$MUNIC_RES==431490, ], local='Porto Alegre, RS') #> Input object size:\t 3200 bytes;\t 6 variables\t 66 observations #> New object size:\t3200 bytes;\t6 variables\t66 observations  #>       masculino feminino #> 0-4       40068    38969 #> 5-9       43522    41704 #> 10-14     51383    50004 #> 15-19     52034    51919 #> 20-24     58440    60121 #> 25-29     63680    67320 #> 30-34     56395    61450 #> 35-39     46721    51234 #> 40-44     42886    49936 #> 45-49     44885    55096 #> 50-54     41871    52972 #> 55-59     34913    46188 #> 60-64     26972    37664 #> 65-69     19173    28398 #> 70-74     14105    23040 #> 75-79     10050    18725 #> 80 +      10103    24773 plot_pir(POPBR12[POPBR12$MUNIC_RES==430520, ], local='Cerro Largo, RS') #> Input object size:\t 3200 bytes;\t 6 variables\t 66 observations #> New object size:\t3200 bytes;\t6 variables\t66 observations  #>       masculino feminino #> 0-4         412      331 #> 5-9         420      388 #> 10-14       503      477 #> 15-19       532      533 #> 20-24       556      512 #> 25-29       506      483 #> 30-34       483      438 #> 35-39       469      438 #> 40-44       500      536 #> 45-49       555      500 #> 50-54       457      449 #> 55-59       371      396 #> 60-64       279      330 #> 65-69       226      253 #> 70-74       155      234 #> 75-79       118      182 #> 80 +        128      234"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/poprs.html","id":null,"dir":"Reference","previous_headings":"","what":"População por sexo e faixa etária. Municípios gaúchos, 1980, 2010, 2020. — poprs","title":"População por sexo e faixa etária. Municípios gaúchos, 1980, 2010, 2020. — poprs","text":"População por sexo e faixa etária. Municípios gaúchos, 1980, 2010, 2020.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/poprs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"População por sexo e faixa etária. Municípios gaúchos, 1980, 2010, 2020. — poprs","text":"","code":"poprs"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/poprs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"População por sexo e faixa etária. Municípios gaúchos, 1980, 2010, 2020. — poprs","text":"Banco de dados com estimativas populacionais por sexo e faixa etária para os municípios Rio Grande Sul em 1980, 2010 e 2020. Criado com funções ler_popbr popbr2000_2021.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/print.descreve.html","id":null,"dir":"Reference","previous_headings":"","what":"Imprime o resultado da função descreve — print.descreve","title":"Imprime o resultado da função descreve — print.descreve","text":"Imprime o resultado da função descreve","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/print.descreve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Imprime o resultado da função descreve — print.descreve","text":"","code":"# S3 method for class 'descreve' print(x, print = \"output\", ...)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/print.descreve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Imprime o resultado da função descreve — print.descreve","text":"x Um objeto da classe descreve, output de descreve print Modo de apresentação; print = \"tabela\" retorna uma tabela com estatísticas ... Não sei se serve de algo mas parece que precisa","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/sacamostras.html","id":null,"dir":"Reference","previous_headings":"","what":"Toma múltiplas amostras aleatórias de um banco de dados. — sacamostras","title":"Toma múltiplas amostras aleatórias de um banco de dados. — sacamostras","text":"Toma múltiplas amostras aleatórias sem reposição de um banco de dados. Cada amostra é salva em um objeto da classe `data.frame` e exportada para um arquivo .csv, enquanto o conjunto dos objetos é salvo num arquivo de dados R (.RData). Os arquivos são salvos diretório de trabalho da sessão ativa. O nº de amostras extrair é dado pelo comprimento de uma lista indicada argumento `suffixes` e cria novos \"data frames\" em um número definido de amostras aleatórias de tamanho n, criando com cada amostra um objeto da classe `data.frame`, que será salvo em um arquivo .csv e com os demais data frames, em um arquivo .RData. Criada com ajuda chatGPT em 06/06/2023.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/sacamostras.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Toma múltiplas amostras aleatórias de um banco de dados. — sacamostras","text":"","code":"sacamostras(data, size, prefix, suffixes, tipo = 2, seed = NULL)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/sacamostras.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Toma múltiplas amostras aleatórias de um banco de dados. — sacamostras","text":"data \"Data frame\" fonte das amostras. size Tamanho das amostras (nº de registros). prefix Texto para o início nome dos \"data frames\" e bancos de dados. suffixes Vetor numérico ou de caracteres, será usado como texto para o final nome dos bancos de dados. Se um vetor numérico e o argumento seed não definido, será então usado para definir \"semente\" das amostras (v. argumento seed). tipo Formatação arquivo csv; `tipo = 1` invoca função write.csv, com campos separados por vírgula (`,`) e decimais separados por ponto (`.`), enquanto `tipo = 2` (padrão) invoca função write.csv2, criando arquivos com campos separados por ponto-e-vírgula (`;`) e decimais separados por vírgula (`,`). seed Vetor de números inteiros tamanho número de amostras desejado. É usado como \"semente\" para os números (pseudo)aleatórios que geram amostras, permitindo assim sua reprodução. Se NULL (padrão), é tomado de suffixes, caso este seja um vetor de números inteiros. Argumento obrigatório quando suffixes não numérico.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/sacamostras.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Toma múltiplas amostras aleatórias de um banco de dados. — sacamostras","text":"","code":"# Perceba que a função não é enderaçada a nenhum objeto (como em `x <- sacamostras(...)`),  # uma vez que ela já cria os bancos de dados como objetos no espaço de trabalho. semente = 1:3 # Amostras de 100 registros: sacamostras(data = RDRS2019, size = 100, prefix = \"amostra_\", suffixes = semente)  #> Sample 1 saved as amostra_1.csv  #> Sample 1 saved as an object: amostra_1  #> Sample 2 saved as amostra_2.csv  #> Sample 2 saved as an object: amostra_2  #> Sample 3 saved as amostra_3.csv  #> Sample 3 saved as an object: amostra_3  #> Samples saved as an RData file: amostra_samples.RData  # Amostras de 1\\% dos registros: sacamostras(data = RDRS2019, size = .01, prefix = \"amostra_\", suffixes = semente)  #> Sample 1 saved as amostra_1.csv  #> Sample 1 saved as an object: amostra_1  #> Sample 2 saved as amostra_2.csv  #> Sample 2 saved as an object: amostra_2  #> Sample 3 saved as amostra_3.csv  #> Sample 3 saved as an object: amostra_3  #> Samples saved as an RData file: amostra_samples.RData  # Amostras de 1\\% dos registros, com outra semente: sacamostras(data = RDRS2019, size = .01, prefix = \"s\", suffixes = semente, seed = 11:13) #> Sample 1 saved as s1_11.csv  #> Sample 1 saved as an object: s1_11  #> Sample 2 saved as s2_12.csv  #> Sample 2 saved as an object: s2_12  #> Sample 3 saved as s3_13.csv  #> Sample 3 saved as an object: s3_13  #> Samples saved as an RData file: ssamples.RData   # Amostras de 1\\% dos registros, com outros nomes, mas mesma \"semente\": sacamostras(data = RDRS2019, size = .01,              prefix = \"amostra\", suffixes = paste0(\"0\", 1:3),              seed = semente) #> Sample 1 saved as amostra01_1.csv  #> Sample 1 saved as an object: amostra01_1  #> Sample 2 saved as amostra02_2.csv  #> Sample 2 saved as an object: amostra02_2  #> Sample 3 saved as amostra03_3.csv  #> Sample 3 saved as an object: amostra03_3  #> Samples saved as an RData file: amostrasamples.RData  all.equal(amostra01_1, amostra_1)  #> [1] TRUE  # Amostra de 1\\% dos registros, com mesmos nomes mas outra \"semente\": sacamostras(data = RDRS2019, size = .01, prefix = \"amostra\", suffixes = semente, seed = 11:13) #> Sample 1 saved as amostra1_11.csv  #> Sample 1 saved as an object: amostra1_11  #> Sample 2 saved as amostra2_12.csv  #> Sample 2 saved as an object: amostra2_12  #> Sample 3 saved as amostra3_13.csv  #> Sample 3 saved as an object: amostra3_13  #> Samples saved as an RData file: amostrasamples.RData  all.equal(amostra1_11, s1_11)  #> [1] TRUE  # A função retorna um aviso de erro se o argumento 'suffixes' não tiver  # o mesmo comprimento do argumento 'seed': if (FALSE) { # \\dontrun{ sacamostras(data = RDRS2019, size = .01, prefix = \"amostra_\", suffixes = \"bis\", seed = semente)  } # } # Amostra de 1\\% dos registros: sacamostras(data = RDRS2019, size = .01, prefix = \"amostra_\",              suffixes = rep(\"bis\", length(semente)), seed = semente)  #> Sample 1 saved as amostra_bis_1.csv  #> Sample 1 saved as an object: amostra_bis_1  #> Sample 2 saved as amostra_bis_2.csv  #> Sample 2 saved as an object: amostra_bis_2  #> Sample 3 saved as amostra_bis_3.csv  #> Sample 3 saved as an object: amostra_bis_3  #> Samples saved as an RData file: amostra_samples.RData  all.equal(amostra_bis_1, amostra_1)  #> [1] TRUE sacamostras(data = RDRS2019, size = .01, prefix = \"amostra\", suffixes = semente, seed = 11:13) #> Sample 1 saved as amostra1_11.csv  #> Sample 1 saved as an object: amostra1_11  #> Sample 2 saved as amostra2_12.csv  #> Sample 2 saved as an object: amostra2_12  #> Sample 3 saved as amostra3_13.csv  #> Sample 3 saved as an object: amostra3_13  #> Samples saved as an RData file: amostrasamples.RData  all.equal(amostra1_11, s1_11)  #> [1] TRUE rm(list = ls(pattern = \"amostra\")) rm(list = ls(pattern = \"s\")) unlink(c(\"amostra*\", \"s*\")) # apaga os arquivos criados"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro.html","id":null,"dir":"Reference","previous_headings":"","what":"Tabela de frequências univariada — tabuleiro","title":"Tabela de frequências univariada — tabuleiro","text":"Constrói uma tabela com distribuição de frequências brutas, relativas e acumuladas, com rótulos em português.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tabela de frequências univariada — tabuleiro","text":"","code":"tabuleiro(x, digits = 1, total = TRUE, cum = TRUE, data = NULL, ...)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tabela de frequências univariada — tabuleiro","text":"x O vetor ser tabulado. digits nº de decimais na tabela. O padrão é 1. total TRUE (default) apresenta o total de categorias na tabela. cum TRUE (default) apresenta frequências acumuladas das cateogrias. data Argumento opcional. Banco de dados contendo x. O padrão é NULL. ... permite o uso de argumentos da função table.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tabela de frequências univariada — tabuleiro","text":"","code":"set.seed(1) x <- rbinom(100000, 3, .25)  tabuleiro(x) #>         Freq     % Freq.acum %acum #> 0      42221  42.2     42221  42.2 #> 1      42127  42.1     84348  84.3 #> 2      14003  14.0     98351  98.4 #> 3       1649   1.6    100000 100.0 #> Total 100000 100.0    100000 100.0  # Sem o total tabuleiro(x, total = FALSE) #>    Freq    % Freq.acum %acum #> 0 42221 42.2     42221  42.2 #> 1 42127 42.1     84348  84.3 #> 2 14003 14.0     98351  98.4 #> 3  1649  1.6    100000 100.0  # Sem as frequências acumuladas tabuleiro(x, cum = FALSE) #>         Freq     % #> 0      42221  42.2 #> 1      42127  42.1 #> 2      14003  14.0 #> 3       1649   1.6 #> Total 100000 100.0  # Oculta a frequência acumulada absoluta e mantém a % acumulada tabuleiro(x, total = FALSE)[,-3] #>    Freq    % %acum #> 0 42221 42.2  42.2 #> 1 42127 42.1  84.3 #> 2 14003 14.0  98.4 #> 3  1649  1.6 100.0"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro2.html","id":null,"dir":"Reference","previous_headings":"","what":"Tabela de frequências univariada — tabuleiro2","title":"Tabela de frequências univariada — tabuleiro2","text":"Constrói uma tabela com distribuição de frequências brutas, relativas e acumuladas, semelhante às SPSS, com separadores latinos.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tabela de frequências univariada — tabuleiro2","text":"","code":"tabuleiro2(varcat, digits = 1)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tabela de frequências univariada — tabuleiro2","text":"varcat Uma variável categórica digits . de decimais","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/tabuleiro2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tabela de frequências univariada — tabuleiro2","text":"","code":"# criar uma variável politômica x <- cut(rnorm(1000), 3) # sem missings tabuleiro2(x) #>               Freq    %(+NA) % acum #> (-3.23,-1.16] \"  137\" \"13,7\" \"13,7\" #> (-1.16,0.892] \"  688\" \"68,8\" \"82,5\" #> (0.892,2.95]  \"  175\" \"17,5\" \"100\"  #> Total         \"1.000\" \"100\"  \"˗\"    x[1:100] <- NA # gerar missings tabuleiro2(x) #>               Freq    %(+NA) % válido % acum #> (-3.23,-1.16] \"  121\" \"12,1\" \"13,4\"   \"13,4\" #> (-1.16,0.892] \"  617\" \"61,7\" \"68,6\"   \"82,0\" #> (0.892,2.95]  \"  162\" \"16,2\" \"18,0\"   \"100\"  #> Total válidos \"  900\" \"90,0\" \"100\"    \"˗\"    #> Missing       \"  100\" \"10,0\" \"˗\"      \"˗\"    #> Total         \"1.000\" \"100\"  \"˗\"      \"˗\"     if (FALSE) { # \\dontrun{ knitr::kable(tabuleiro2(x), align = rep(\"r\", 4)) } # }"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/zeroesq.html","id":null,"dir":"Reference","previous_headings":"","what":"Zeros à esquerda — zeroesq","title":"Zeros à esquerda — zeroesq","text":"Unifica o número de caracteres em um vetor, colocando zeros (\"0\") à esquerda valor original.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/zeroesq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Zeros à esquerda — zeroesq","text":"","code":"zeroesq(x, n = NULL)"},{"path":"https://fulvionedel.github.io/Rcoisas/reference/zeroesq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Zeros à esquerda — zeroesq","text":"x Vetor (de caracteres ou numérico) com algarismos arábicos. n Limite número de zeros incluir; o padrão é `NULL`, sendo então definido pela função como o necessário até alcançar o número máximo de characteres vetor; pode ser definido pelo usuário.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/zeroesq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Zeros à esquerda — zeroesq","text":"Vetor de caracteres com os dígitos vazios à esquerda valor original preenchidos por zero (0).","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/zeroesq.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Zeros à esquerda — zeroesq","text":"Muitas vezes temos, nos bancos de dados, uma variável registrada em algarismos com grande amplitude de valores mas que na verdade são códigos em vez de valores numéricos, como caso número de identificação registro, ou da Equipe de Saúde da Família em um grande município. Se variável é numérica (`integer`, `numeric` ou `double/float`), não é um problema grave, nesse caso costuma-se ignorar os resumos apresentados sobre variável ou transformá-la em texto (`character`). Entretanto, em qualquer caso pode trazer alguns inconvenientes, como  - se, num banco de dados com mais de mil registros uma variável \"identificador\" aparecer como 1, ..., em vez de 0001, ..., ela não pode estar inserida (sem trabalho prévio) em definições condicionais para múltiplas variáveis tipo \"em todos os fatores, transforme '9', '99' e '999' em NA\", ou \"em todas variáveis numéricas, transforme e '999' em NA\";  - ordenação de numerais em formato de texto não segue mesmas regras que em formato numérico (temos \"1, 10, 11, ..., 19, 2, 20, 21, ...), o que implica na definição dos níveis ao definir um fator.","code":""},{"path":"https://fulvionedel.github.io/Rcoisas/reference/zeroesq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Zeros à esquerda — zeroesq","text":"","code":"(codid <- c(1:3, 10:12, 101:103, 1000)) #>  [1]    1    2    3   10   11   12  101  102  103 1000  # Se o vetor é numérico a ordenação acontece sem problemas: class(codid) #> [1] \"numeric\" sort(codid) #>  [1]    1    2    3   10   11   12  101  102  103 1000  # Mas se ele for de characteres não: sort(as.character(codid)) #>  [1] \"1\"    \"10\"   \"1000\" \"101\"  \"102\"  \"103\"  \"11\"   \"12\"   \"2\"    \"3\"     # o que gostaríamos é: sort(as.character(zeroesq(codid))) #>  [1] \"0001\" \"0002\" \"0003\" \"0010\" \"0011\" \"0012\" \"0101\" \"0102\" \"0103\" \"1000\"  # ou, diretamente (porque o vetor pode ser numérico ou caractere): sort(zeroesq(codid)) #>  [1] \"0001\" \"0002\" \"0003\" \"0010\" \"0011\" \"0012\" \"0101\" \"0102\" \"0103\" \"1000\""}]
